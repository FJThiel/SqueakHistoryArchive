"Change Set:		8500Balloon-nice.14Balloon-nice.14:Cosmetic changes from Pharo:- declare some temps inside blocks- remove a false comment"!!BalloonBezierSimulation class methodsFor: 'initialization' stamp: 'MarcusDenker 9/30/2009 11:56'!initialize	HeightSubdivisions := 0.	LineConversions := 0.	MonotonSubdivisions := 0.	OverflowSubdivisions := 0.! !!Bezier3Segment class methodsFor: 'utilities' stamp: 'eem 6/11/2008 16:08'!makeEllipseSegments: aRectangle count: segmentCount	"Answer a set of bezier segments approximating an ellipsoid fitting the given rectangle.	This method creates segmentCount bezier segments (one for each quadrant) approximating the oval."	| count angle center scale |	center := aRectangle origin + aRectangle corner * 0.5.	scale := aRectangle extent * 0.5.	count := segmentCount max: 2. "need at least two segments"	angle := 360.0 / count.	^(1 to: count) collect:[:i| | seg |		seg := self makeUnitPieSegmentFrom: i-1*angle to: i*angle.		self controlPoints: (seg controlPoints collect:[:pt| pt * scale + center])	].! !!BalloonEngine class methodsFor: 'private' stamp: 'eem 6/11/2008 13:00'!recycleBuffer: balloonBuffer	"Try to keep the buffer for later drawing operations."	CacheProtect critical:[ | buffer |		buffer := BufferCache at: 1.		(buffer isNil or:[buffer size < balloonBuffer size] )			ifTrue:[BufferCache at: 1 put: balloonBuffer].	].! !BalloonBezierSimulation initialize!