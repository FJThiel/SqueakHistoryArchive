"Change Set:		8364Kernel-ar.323Kernel-ar.323:Faster #ensure: handling: Instead of having the default path use thisContext>>tempAt:put: (which is very slow for the JIT) use a temp assignment and let only the termination handling actually do #tempAt:put:.Part 3 updates #ensure: to only use the fast version."!!BlockClosure methodsFor: 'exceptions' stamp: 'ar 12/4/2009 18:30'!ensure: aBlock	"Evaluate a termination block after evaluating the receiver, regardless of	 whether the receiver's evaluation completes.  N.B.  This method is *not*	 implemented as a primitive.  Primitive 198 always fails.  The VM uses prim	 198 in a context's method as the mark for an ensure:/ifCurtailed: activation."	| complete returnValue |	<primitive: 198>	returnValue := self valueNoContextSwitch.	complete ifNil:[		complete := true.		aBlock value.	].	^ returnValue! !!BlockContext methodsFor: 'exceptions' stamp: 'ar 12/4/2009 18:31'!ensure: aBlock	"Evaluate a termination block after evaluating the receiver, regardless of	 whether the receiver's evaluation completes.  N.B.  This method is *not*	 implemented as a primitive.  Primitive 198 always fails.  The VM uses prim	 198 in a context's method as the mark for an ensure:/ifCurtailed: activation."	| complete returnValue |	<primitive: 198>	returnValue := self value.	complete ifNil:[		complete := true.		aBlock value.	].	^ returnValue! !