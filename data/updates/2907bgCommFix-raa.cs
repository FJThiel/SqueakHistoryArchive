'From Squeak2.9alpha of 17 July 2000 [latest update: #2955] on 6 November 2000 at 11:50:41 am'!"Change Set:		bgCommFixDate:			6 November 2000Author:			Bob Arning- fix incoming communications requests to run in UI process to avoid unpleasant interference"!!EToyListenerMorph class methodsFor: 'as yet unclassified' stamp: 'RAA 11/6/2000 11:48'!commResult: anArrayOfAssociations	WorldState addDeferredUIMessage: [self commResultDeferred: anArrayOfAssociations].! !!EToyListenerMorph class methodsFor: 'as yet unclassified' stamp: 'RAA 11/6/2000 11:49'!commResultDeferred: anArrayOfAssociations	| m ipAddress aDictionary |	"to be run as part of the UI process in case user interaction is required"	aDictionary _ Dictionary new.	anArrayOfAssociations do: [ :each | aDictionary add: each].		aDictionary at: #commFlash ifPresent: [ :ignore | ^self].	m _ aDictionary at: #message ifAbsent: [^self].	m = 'OK' ifFalse: [^self].	ipAddress _ NetNameResolver stringFromAddress: (aDictionary at: #ipAddress).	EToyIncomingMessage new 		incomingMessgage: (ReadStream on: (aDictionary at: #data)) 		fromIPAddress: ipAddress	! !