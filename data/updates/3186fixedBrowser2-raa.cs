'From Squeak2.9alpha of 17 July 2000 [latest update: #3244] on 10 January 2001 at 1:34:22 am'!"Change Set:		fixedBrowser2Date:			10 January 2001Author:			Bob ArningAnother browser fixed-pane change - wrap the fixed-height panes together with one of the scroll panes so that it is easier to perform the most likely resizings and keep the fixed-height ones fixed. At this time it only affects the System Category Browser so we can decide if it is an improvement."!!Browser methodsFor: 'initialize-release' stamp: 'RAA 1/10/2001 01:32'!addClassAndSwitchesTo: window at: nominalFractions	| row switchHeight |	row _ AlignmentMorph newColumn		hResizing: #spaceFill;		vResizing: #spaceFill;		layoutInset: 0;		borderWidth: 0;		layoutPolicy: ProportionalLayout new.	switchHeight _ 25.	row 		addMorph: self buildMorphicClassList		fullFrame: (			LayoutFrame 				fractions: (0@0 corner: 1@1) 				offsets: (0@0 corner: 0@switchHeight negated)		).			self 		addMorphicSwitchesTo: row 		at: (			LayoutFrame 				fractions: (0@1 corner: 1@1) 				offsets: (0@switchHeight negated  corner: 0@0)		).	window 		addMorph: row		fullFrame: (			LayoutFrame 				fractions: nominalFractions 				offsets: (0@switchHeight corner: 0@0)		).		row borderWidth: 0.	row on: #mouseEnter send: #paneTransition: to: window.	row on: #mouseLeave send: #paneTransition: to: window.! !!Browser methodsFor: 'initialize-release' stamp: 'RAA 1/10/2001 01:25'!addLowerPanesTo: window at: nominalFractions with: editString	| verticalOffset row innerFractions |	row _ AlignmentMorph newColumn		hResizing: #spaceFill;		vResizing: #spaceFill;		layoutInset: 0;		borderWidth: 0;		layoutPolicy: ProportionalLayout new.	verticalOffset _ 0.	innerFractions _ 0@0 corner: 1@0.	verticalOffset _ self addOptionalAnnotationsTo: row at: innerFractions plus: verticalOffset.	verticalOffset _ self addOptionalButtonsTo: row  at: innerFractions plus: verticalOffset.	row 		addMorph: (self buildMorphicCodePaneWith: editString)		fullFrame: (			LayoutFrame 				fractions: (innerFractions withBottom: 1) 				offsets: (0@verticalOffset corner: 0@0)		).	window 		addMorph: row		frame: nominalFractions.	row borderWidth: 0.	row on: #mouseEnter send: #paneTransition: to: window.	row on: #mouseLeave send: #paneTransition: to: window.! !!Browser methodsFor: 'initialize-release' stamp: 'RAA 1/10/2001 00:47'!buildMorphicSwitches	| instanceSwitch commentSwitch classSwitch row aColor |	instanceSwitch _ PluggableButtonMorph		on: self		getState: #instanceMessagesIndicated		action: #indicateInstanceMessages.	instanceSwitch		label: 'instance';		askBeforeChanging: true.	commentSwitch _ PluggableButtonMorph		on: self		getState: #classCommentIndicated		action: #plusButtonHit.	commentSwitch		label: '?' asText allBold;		askBeforeChanging: true;		setBalloonText: 'class comment'.	classSwitch _ PluggableButtonMorph		on: self		getState: #classMessagesIndicated		action: #indicateClassMessages.	classSwitch		label: 'class';		askBeforeChanging: true.	row _ AlignmentMorph newRow		hResizing: #spaceFill;		vResizing: #spaceFill;		layoutInset: 0;		borderWidth: 0;		addMorphBack: instanceSwitch;		addMorphBack: commentSwitch;		addMorphBack: classSwitch.	aColor _ Color colorFrom: self defaultBackgroundColor.	row submorphs do:		[:m | m color: aColor.		m onColor: aColor darker offColor: aColor].	^ row! !!Browser methodsFor: 'initialize-release' stamp: 'RAA 1/10/2001 01:25'!openAsMorphSysCatEditing: editString	"Create a pluggable version of all the views for a Browser, including views and controllers."	| window hSepFrac switchHeight mySingletonList nextOffsets |	window _ (SystemWindow labelled: 'later') model: self.	hSepFrac _ 0.30.	switchHeight _ 25.	mySingletonList _ PluggableListMorph on: self list: #systemCategorySingleton			selected: #indexIsOne changeSelected: #indexIsOne:			menu: #systemCatSingletonMenu: keystroke: #systemCatSingletonKey:from:. 	mySingletonList enableDragNDrop: Preferences browseWithDragNDrop.	window 		addMorph: mySingletonList		fullFrame: (			LayoutFrame 				fractions: (0@0 corner: 1@0) 				offsets: (0@0  corner: 0@switchHeight)		).		self addClassAndSwitchesTo: window at: (0@0 corner: 0.3333@hSepFrac).	nextOffsets _ 0@switchHeight corner: 0@0.	window 		addMorph: self buildMorphicMessageCatList		fullFrame: (			LayoutFrame 				fractions: (0.3333@0 corner: 0.6666@hSepFrac) 				offsets: nextOffsets		).		window 		addMorph: self buildMorphicMessageList		fullFrame: (			LayoutFrame 				fractions: (0.6666@0 corner: 1@hSepFrac) 				offsets: nextOffsets		).		self 		addLowerPanesTo: window 		at: (0@hSepFrac corner: 1@1) 		with: editString.	window setUpdatablePanesFrom: #( classList messageCategoryList messageList).	^ window! !!Morph methodsFor: 'submorphs-add/remove' stamp: 'RAA 1/10/2001 01:31'!addMorph: aMorph fullFrame: aLayoutFrame	"there seems to be a difference of usage here"	aLayoutFrame bottomOffset: (aLayoutFrame bottomOffset ifNil: [0]) negated.	aMorph layoutFrame: aLayoutFrame.	aMorph hResizing: #spaceFill; vResizing: #spaceFill.	self addMorph: aMorph.! !