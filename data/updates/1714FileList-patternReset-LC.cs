'From Squeak2.6 of 11 October 1999 [latest update: #1559] on 11 December 1999 at 5:43:27 pm'!!FileList methodsFor: 'initialization' stamp: 'LC 12/11/1999 17:42'!directory: dir	"Set the path of the volume to be displayed."	| dirChanged |	self okToChange ifFalse: [^ self].	self modelSleep.	dirChanged _ directory ~= dir.	directory _ dir.	self modelWakeUp.	sortMode == nil ifTrue: [sortMode _ #date].	volList _ ((Array with: '[]'), directory pathParts)  "Nesting suggestion from RvL"			withIndexCollect: [:each :i | ( String new: i-1 withAll: $ ), each].	self changed: #relabel.	self changed: #volumeList.	dirChanged ifTrue: [self pattern: nil; changed: #pattern] ifFalse: [self pattern: pattern]! !