'From Squeak3.7beta of ''1 April 2004'' [latest update: #5878] on 22 April 2004 at 6:06:46 pm'!"Change Set:		ReCategorizeByDropOnAllCat-nkDate:			22 April 2004Author:			Ned KonzLets you drag a message name and drop it on the '-- all --' category in the Browser to recategorize it from its parent(s)."!!Browser methodsFor: 'drag and drop' stamp: 'nk 4/22/2004 18:00'!changeMessageCategoryForMethod: methodSel dstMessageCategory: dstMessageCategorySel srcMessageCategory: srcMessageCategorySel insideClassOrMeta: classOrMeta internal: internal copySemantic: copyFlag 	"Recategorize the method named by methodSel. 	If the dstMessageCategorySel is the allCategory, then recategorize 	it from its parents."	| success messageCategorySel |	copyFlag		ifTrue: [^ false].	"only move semantic"	messageCategorySel := dstMessageCategorySel				ifNil: [srcMessageCategorySel].	(success := messageCategorySel notNil					and: [messageCategorySel ~= srcMessageCategorySel])		ifTrue: [success := messageCategorySel == ClassOrganizer allCategory						ifTrue: [self recategorizeMethodSelector: methodSel]						ifFalse: [(classOrMeta organization categories includes: messageCategorySel)								and: [classOrMeta organization										classify: methodSel										under: messageCategorySel										suppressIfDefault: false.									true]]].	success		ifTrue: [self changed: #messageList.			internal				ifFalse: [self setSelector: methodSel]].	^ success! !!Browser methodsFor: 'message category list' stamp: 'nk 4/22/2004 17:59'!recategorizeMethodSelector: sel 	"Categorize method named sel by looking in parent classes for a 	method category. 	Answer true if recategorized."	| thisCat |	self selectedClassOrMetaClass allSuperclasses		do: [:ea | 			thisCat := ea organization categoryOfElement: sel.			(thisCat ~= ClassOrganizer default					and: [thisCat notNil])				ifTrue: [self classOrMetaClassOrganizer classify: sel under: thisCat.					self changed: #messageCategoryList.					^ true]].	^ false! !