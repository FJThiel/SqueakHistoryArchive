'From Squeak3.1alpha of 4 February 2001 [latest update: #3574] on 12 February 2001 at 4:23:59 pm'!"Change Set:		FileListTweaks-arDate:			12 February 2001Author:			Andreas RaabTwo tweaks for the file list. Add the default directory if no accessible top-level disk volumes can be found. Fix up issues with listing directory contents."!!FileDirectoryWrapper methodsFor: 'as yet unclassified' stamp: 'ar 2/12/2001 16:20'!contents	^((model directoryNamesFor: item) sortBy: [ :a :b | a caseInsensitiveLessOrEqual: b]) collect: [ :n | 		FileDirectoryWrapper with: (item directoryNamed: n) name: n model: self	]! !!FileDirectoryWrapper methodsFor: 'as yet unclassified' stamp: 'ar 2/12/2001 16:22'!directoryNamesFor: anItem	^model directoryNamesFor: anItem! !!FileList2 methodsFor: 'as yet unclassified' stamp: 'ar 2/12/2001 16:20'!directoryNamesFor: item	"item may be file directory or server directory"	| entries |	entries _ item directoryNames.	dirSelectionBlock ifNotNil:[entries _ entries select: dirSelectionBlock].	^entries! !!FileList2 methodsFor: 'as yet unclassified' stamp: 'ar 2/12/2001 16:12'!initialDirectoryList	| dir nameToShow dirList |	dirList _ (FileDirectory on: '') directoryNames collect: [ :each |		FileDirectoryWrapper with: (FileDirectory on: each) name: each model: self].	dirList isEmpty ifTrue:[		dirList _ Array with: (FileDirectoryWrapper 			with: FileDirectory default 			name: FileDirectory default localName 			model: self)].	dirList _ dirList,(		ServerDirectory serverNames collect: [ :n | 			dir _ ServerDirectory serverNamed: n.			nameToShow _ n.			(dir directoryWrapperClass with: dir name: nameToShow model: self)				balloonText: dir realUrl		]	).	^dirList! !