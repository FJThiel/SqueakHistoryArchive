'From Squeak3.1alpha of 7 March 2001 [latest update: #4347] on 24 November 2001 at 8:09:54 pm'!!AsyncFile methodsFor: 'as yet unclassified' stamp: 'JMM 11/24/2001 17:23'!test: byteCount fileName: fileName	"AsyncFile new test: 10000 fileName: 'testData'"	| buf1 buf2 bytesWritten bytesRead |	buf1 _ String new: byteCount withAll: $x.	buf2 _ String new: byteCount.	self open: ( FileDirectory default fullNameFor: fileName) forWrite: true.	self primWriteStart: fileHandle		fPosition: 0		fromBuffer: buf1		at: 1		count: byteCount.	semaphore wait.	bytesWritten _ self primWriteResult: fileHandle.	self close.		self open: ( FileDirectory default fullNameFor: fileName) forWrite: false.	self primReadStart: fileHandle fPosition: 0 count: byteCount.	semaphore wait.	bytesRead _		self primReadResult: fileHandle			intoBuffer: buf2			at: 1			count: byteCount.	self close.	buf1 = buf2 ifFalse: [self error: 'buffers do not match'].	^ 'wrote ', bytesWritten printString, ' bytes; ',	   'read ', bytesRead printString, ' bytes'! !