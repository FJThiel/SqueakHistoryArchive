'From Squeak 2.5 of August 6, 1999 [latest update: #1514] on 5 October 1999 at 5:55:30 pm'!!Form methodsFor: 'image manipulation' stamp: 'bf 10/5/1999 17:55'!dominantColor	| tally max maxi |	depth > 16 ifTrue:		[^(self asFormOfDepth: 16) dominantColor].	tally _ self tallyPixelValues.	max _ maxi _ 0.	tally withIndexDo: [:n :i | n > max ifTrue: [maxi _ i]].	^ Color colorFromPixelValue: maxi - 1 depth: depth! !!Form methodsFor: 'image manipulation' stamp: 'bf 10/5/1999 17:55'!primCountBits	"Count the non-zero pixels of this form."	depth > 8 ifTrue:		[^(self asFormOfDepth: 8) primCountBits].	^ (BitBlt toForm: self)		fillColor: (Bitmap with: 0);		destRect: (0@0 extent: width@height);		combinationRule: 32;		copyBits! !