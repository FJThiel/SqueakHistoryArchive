'From Squeak 2.2 of Sept 23, 1998 on 3 November 1998 at 12:55:55 am'!"Change Set:		PPrim-DecompileFix-arDate:			3 November 1998Author:			PPrim-DecompileFixFixed the decompilation of methods by printing the primitive names if appropriate."!!CompiledMethod methodsFor: 'printing' stamp: 'ar 11/3/1998 00:50'!printPrimitiveOn: aStream	"Print the primitive on aStream"	| primIndex primDecl |	primIndex _ self primitive.	primIndex = 0 ifTrue:[^self].	aStream nextPutAll: '<primitive: '.	primIndex = 117 ifTrue:[		primDecl _ self literalAt: 1.		aStream 			nextPut: $';			nextPutAll: (primDecl at: 2);			nextPut:$'.		(primDecl at: 1) notNil ifTrue:[			aStream 				nextPutAll:' module:';				nextPut:$';				nextPutAll: (primDecl at: 1);				nextPut:$'.		].	] ifFalse:[aStream print: self primitive].	aStream nextPut: $>; cr! !!CompiledMethod methodsFor: 'printing' stamp: 'ar 11/3/1998 00:51'!symbolic	"Answer a String that contains a list of all the byte codes in a method 	with a short description of each." 	| aStream |	self isQuick ifTrue: 		[self isReturnSpecial ifTrue: [^ 'Quick return ' ,				(#('self' 'true' 'false' 'nil' '-1' '0' '1' '2')						at: self primitive - 255)].		^ 'Quick return field ' , self returnField printString , ' (0-based)'].	aStream _ WriteStream on: (String new: 1000).	self printPrimitiveOn: aStream.	(InstructionPrinter on: self) printInstructionsOn: aStream.	^aStream contents! !!MethodNode methodsFor: 'printing' stamp: 'ar 11/3/1998 00:52'!printPrimitiveOn: aStream	"Print the primitive on aStream"	| primIndex primDecl |	primIndex _ primitive.	primIndex = 0 ifTrue:[^self].	aStream nextPutAll: '<primitive: '.	primIndex = 117 ifTrue:[		primDecl _ encoder literals at: 1.		aStream 			nextPut: $';			nextPutAll: (primDecl at: 2);			nextPut:$'.		(primDecl at: 1) notNil ifTrue:[			aStream 				nextPutAll:' module:';				nextPut:$';				nextPutAll: (primDecl at: 1);				nextPut:$'.		].	] ifFalse:[aStream print: self primitive].	aStream nextPut: $>.! !