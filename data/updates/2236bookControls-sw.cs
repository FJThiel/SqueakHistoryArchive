'From Squeak2.8alpha of 13 January 2000 [latest update: #2220] on 29 May 2000 at 12:40:14 am'!"Change Set:		bookControls-swDate:			27 May 2000Author:			Scott Wallace*  The Book's menu is improved in the following ways:  -- it now has a stay-up item.  -- the wording of the show/hide-controls item is dynamic.  -- the crucial 'find' & 'go to...' items are now at the top.*  Shift-click on the more/fewer-controls button in the book control panel now hides the panel -- a useful shortcut."!!BooklikeMorph methodsFor: 'page controls' stamp: 'sw 5/23/2000 13:07'!fewerPageControls	self currentEvent shiftPressed		ifTrue:			[self hidePageControls]		ifFalse:			[self showPageControls: self shortControlSpecs]! !!BooklikeMorph methodsFor: 'misc' stamp: 'sw 5/23/2000 02:16'!showingPageControlsString	^ self pageControlsVisible		ifTrue:			['hide page controls']		ifFalse:			['show page controls']! !!BookMorph methodsFor: 'navigation' stamp: 'sw 5/23/2000 13:11'!showMoreControls	self currentEvent shiftPressed		ifTrue:			[self hidePageControls]		ifFalse:			[self showPageControls: self fullControlSpecs]! !!BookMorph methodsFor: 'menu' stamp: 'sw 5/23/2000 02:21'!invokeBookMenu	"Invoke the book's control panel menu."	| aMenu hand |	aMenu _ MenuMorph new defaultTarget: self.	aMenu addStayUpItem.	aMenu add: 'find...' action: #textSearch.	aMenu add: 'go to page...' action: #goToPage.	aMenu addLine.	aMenu addList:		#(('sort pages'			sortPages)		('uncache page sorter'	uncachePageSorter)).	(self hasProperty: #dontWrapAtEnd)		ifTrue: [aMenu add: 'wrap after last page' selector: #setWrapPages: argument: true]		ifFalse: [aMenu add: 'stop at last page' selector: #setWrapPages: argument: false].	aMenu addList:		#(('make bookmark'		bookmarkForThisPage)		('make thumbnail'		thumbnailForThisPage)).	aMenu addUpdating: #showingPageControlsString action: #toggleShowingOfPageControls.	aMenu addLine.	aMenu add: 'sound effect for all pages' action: #menuPageSoundForAll:.	aMenu add: 'sound effect this page only' action: #menuPageSoundForThisPage:.	aMenu add: 'visual effect for all pages' action: #menuPageVisualForAll:.	aMenu add: 'visual effect this page only' action: #menuPageVisualForThisPage:.	aMenu addLine.	(self primaryHand classOfPasteBuffer isKindOf: PasteUpMorph class) ifTrue:		[aMenu add: 'paste book page'   action: #pasteBookPage].	aMenu add: 'save as new-page prototype' action: #setNewPagePrototype.	newPagePrototype ifNotNil: [		aMenu add: 'clear new-page prototype' action: #clearNewPagePrototype].	aMenu add: (self dragNDropEnabled ifTrue: ['close'] ifFalse: ['open']) , ' dragNdrop'			action: #toggleDragNDrop.	aMenu add: 'make all pages this size' action: #makeUniformPageSize.	aMenu add: 'send all pages to server' action: #savePagesOnURL.	aMenu add: 'send this page to server' action: #saveOneOnURL.	aMenu add: 'reload all from server' action: #reload.	aMenu add: 'copy page url to clipboard' action: #copyUrl.	aMenu add: 'keep in one file' action: #keepTogether.	aMenu addLine.	aMenu add: 'load PPT images from slide #1' action: #loadImagesIntoBook.	aMenu add: 'background color for all pages...' action: #setPageColor.	hand _ self world primaryHand.	aMenu popUpAt: hand position forHand: hand! !!BookMorph methodsFor: 'menu' stamp: 'sw 5/23/2000 02:14'!pageControlsVisible	^ self hasSubmorphWithProperty: #pageControl! !!BookMorph methodsFor: 'menu' stamp: 'sw 5/23/2000 02:18'!toggleShowingOfPageControls	self pageControlsVisible		ifTrue:	[self hidePageControls]		ifFalse:	[self showPageControls]! !