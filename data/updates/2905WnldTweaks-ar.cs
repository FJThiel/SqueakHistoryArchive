'From Squeak2.9alpha of 13 June 2000 [latest update: #2949] on 5 November 2000 at 5:00:20 pm'!!Wonderland methodsFor: 'initialize-reset-release' stamp: 'ar 11/5/2000 16:58'!objectForDataStream: refStrm	self prepareToBeSaved.		"Amen"	^ self! !!Wonderland methodsFor: 'initialize-reset-release' stamp: 'ar 11/5/2000 16:58'!prepareToBeSaved	"We are about to be written out. Release everything we don't want to carry around"	myUndoStack reset.	sharedMeshDict _ Dictionary new.	sharedTextureDict _ Dictionary new.! !!Wonderland methodsFor: 'creating' stamp: 'ar 11/5/2000 16:59'!makeTextureFrom: filename flipping: aBool	"Create a texture from the given file name and flip it in y if requested"	| tex |	filename == nil ifTrue:[^nil].	^self getSharedTextureDict at: filename ifAbsentPut:[		tex _ (Form fromFileNamed: filename) asTexture.		aBool ifTrue:[tex flipVertically].		tex wrap: true.		tex interpolate: true.		tex envMode: 0.	].! !