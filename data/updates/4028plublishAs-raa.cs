'From Squeak3.1alpha of 5 February 2001 [latest update: #4022] on 16 May 2001 at 6:05:35 pm'!"Change Set:		plublishAsDate:			16 May 2001Author:			Bob ArningChanged some of the options in navigator Publish menu:PublishPublish As...Publish to Different Server"!!Project methodsFor: 'menu messages' stamp: 'RAA 5/16/2001 17:50'!doWeWantToRename	| want |	self hasBadNameForStoring ifTrue: [^true].	(self name beginsWith: 'Unnamed') ifTrue: [^true].	want _ world valueOfProperty: #SuperSwikiRename ifAbsent: [false].	world removeProperty: #SuperSwikiRename.	^want! !!Project methodsFor: 'menu messages' stamp: 'RAA 5/16/2001 18:00'!validateProjectNameIfOK: aBlock	| details |	details _ world valueOfProperty: #ProjectDetails.	details ifNotNil: ["ensure project info matches real project name"		details at: 'projectname' put: self name.	].	self doWeWantToRename ifFalse: [^aBlock value].	EToyProjectDetailsMorph		getFullInfoFor: self 		ifValid: [			World displayWorldSafely.			aBlock value.		] fixTemps		expandedFormat: false! !!ProjectNavigationMorph methodsFor: 'the buttons' stamp: 'RAA 5/16/2001 17:41'!buttonPublish	^self makeButton: 'PUBLISH IT!!' balloonText: 'Publish this project. Save it where it came from (server, hard disk, etc.) ' for: #publishProject! !!ProjectNavigationMorph methodsFor: 'the actions' stamp: 'RAA 5/16/2001 17:56'!doPublishButtonMenuEvent: evt	| menu selection |	menu _ CustomMenu new.	menu 		add: 'Publish' action: [self publishProject];		add: 'Publish As...' action: [self publishProjectAs];		add: 'Publish to Different Server' action: [self publishDifferent];		add: 'edit project info' action: [self editProjectInfo].	selection _ menu build startUpCenteredWithCaption: 'Publish options'.	selection ifNil: [^self].	selection value.! !!ProjectNavigationMorph methodsFor: 'the actions' stamp: 'RAA 5/16/2001 17:44'!publishDifferent	self 		publishStyle: #initialDirectoryList 		forgetURL: true		withRename: false! !!ProjectNavigationMorph methodsFor: 'the actions' stamp: 'RAA 5/16/2001 17:44'!publishProject	self 		publishStyle: #initialDirectoryList 		forgetURL: false		withRename: false! !!ProjectNavigationMorph methodsFor: 'the actions' stamp: 'RAA 5/16/2001 17:44'!publishProjectAs	self 		publishStyle: #initialDirectoryList 		forgetURL: false		withRename: true! !!ProjectNavigationMorph methodsFor: 'the actions' stamp: 'RAA 5/16/2001 17:45'!publishProjectSimple	self 		publishStyle: #limitedSuperSwikiPublishDirectoryList 		forgetURL: false		withRename: false! !!ProjectNavigationMorph methodsFor: 'the actions' stamp: 'RAA 5/16/2001 17:43'!publishStyle: aSymbol forgetURL: aBoolean withRename: renameBoolean	| w |	w _ self world ifNil: [^1 beep].	w setProperty: #SuperSwikiPublishOptions toValue: aSymbol.	w setProperty: #SuperSwikiRename toValue: renameBoolean.	self delete.	w project 		storeOnServerShowProgressOn: self 		forgetURL: aBoolean.! !ProjectNavigationMorph removeSelector: #publishStyle:forgetURL:!ProjectNavigationMorph removeSelector: #publishStyle:forgetURL:allowRename:!EToyProjectDetailsMorph class removeSelector: #getFullInfoFor:ifValid:!