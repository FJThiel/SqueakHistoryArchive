'From Squeak3.1alpha of 28 February 2001 [latest update: #4181] on 29 June 2001 at 1:27:30 am'!"Change Set:		serverFixesDate:			29 June 2001Author:			Michael RuegerFixes a bug in external server settings where the password sequence numbers got lost."!!Password methodsFor: 'accessing' stamp: 'mir 6/29/2001 01:01'!sequence	^sequence! !!ServerDirectory methodsFor: 'accessing' stamp: 'mir 6/29/2001 01:04'!passwordSequence	^passwordHolder		ifNotNil: [passwordHolder sequence]! !!ServerDirectory methodsFor: 'accessing' stamp: 'mir 6/29/2001 01:16'!passwordSequence: aNumber	passwordHolder ifNil: [passwordHolder _ Password new].	passwordHolder sequence: aNumber! !!ServerDirectory methodsFor: 'file-in/out' stamp: 'mir 6/29/2001 01:23'!storeServerEntryOn: stream		stream		nextPutAll: 'name:'; tab; nextPutAll: (ServerDirectory nameForServer: self); cr;		nextPutAll: 'directory:'; tab; nextPutAll: self directory; cr;		nextPutAll: 'type:'; tab; nextPutAll: self typeForPrefs; cr;		nextPutAll: 'server:'; tab; nextPutAll: self server; cr.	group		ifNotNil: [stream nextPutAll: 'group:'; tab; nextPutAll: self groupName; cr].	self user		ifNotNil: [stream nextPutAll: 'user:'; tab; nextPutAll: self user; cr].	self passwordSequence		ifNotNil: [stream nextPutAll: 'passwdseq:'; tab; nextPutAll: self passwordSequence asString; cr].	self altUrl		ifNotNil: [stream nextPutAll: 'url:'; tab; nextPutAll: self altUrl; cr].	self loaderUrl		ifNotNil: [stream nextPutAll: 'loaderUrl:'; tab; nextPutAll: self loaderUrl; cr].	self acceptsUploads		ifTrue: [stream nextPutAll: 'acceptsUploads:'; tab; nextPutAll: 'true'; cr]! !!ServerDirectory class methodsFor: 'server prefs' stamp: 'mir 6/29/2001 01:15'!parseServerEntryFrom: stream		| server type directory entries serverName |	entries _ self parseServerEntryArgsFrom: stream.	serverName _ entries at: 'name' ifAbsent: [^nil].	directory _ entries at: 'directory' ifAbsent: [^nil].	type _ entries at: 'type' ifAbsent: [^nil].	type = 'file'		ifTrue: [			^self addLocalProjectDirectory: (FileDirectory default directoryNamed: directory)].	type = 'bss'		ifTrue: [server _ SuperSwikiServer new type: #http].	type = 'http'		ifTrue: [server _ HTTPServerDirectory new type: #ftp].	type = 'ftp'		ifTrue: [server _ ServerDirectory new type: #ftp].	server directory: directory.	entries at: 'server' ifPresent: [:value | server server: value].	entries at: 'user' ifPresent: [:value | server user: value].	entries at: 'group' ifPresent: [:value | server groupName: value].	entries at: 'passwdseq' ifPresent: [:value | server passwordSequence: value asNumber].	entries at: 'url' ifPresent: [:value | server altUrl: value].	entries at: 'loaderUrl' ifPresent: [:value | server loaderUrl: value].	entries at: 'acceptsUploads' ifPresent: [:value | server acceptsUploads: value asLowercase = 'true'].	ServerDirectory addServer: server named: serverName.! !