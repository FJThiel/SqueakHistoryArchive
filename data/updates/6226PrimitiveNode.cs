'From Squeak3.8alpha of ''17 July 2004'' [latest update: #6212] on 23 September 2004 at 10:57:57 am'!Object subclass: #PrimitiveNode	instanceVariableNames: 'primitiveNum spec'	classVariableNames: ''	poolDictionaries: ''	category: 'Compiler-Syntax'!!PrimitiveNode commentStamp: 'ajh 3/24/2003 21:35' prior: 0!I represent a primitive.  I am more than just a number if I am a named primitive.Structure: num	<Integer>	Primitive number. spec	<Object>		Stored in first literal when num is 117 or 120.!!PrimitiveNode methodsFor: 'as yet unclassified' stamp: 'ajh 7/14/2001 12:37'!num	^ primitiveNum! !!PrimitiveNode methodsFor: 'as yet unclassified' stamp: 'ajh 7/14/2001 12:23'!num: n	primitiveNum _ n! !!PrimitiveNode methodsFor: 'as yet unclassified' stamp: 'ajh 3/12/2003 12:26'!printOn: aStream	aStream nextPutAll: 'primitive '; print: primitiveNum! !!PrimitiveNode methodsFor: 'as yet unclassified' stamp: 'ajh 3/19/2003 22:06'!printPrimitiveOn: aStream 	"Print the primitive on aStream"	| primIndex primDecl |	primIndex _ primitiveNum.	primIndex = 0 ifTrue: [^ self].	primIndex = 120 ifTrue: [		"External call spec"		^ aStream print: spec].	aStream nextPutAll: '<primitive: '.	primIndex = 117 ifTrue: [		primDecl _ spec.		aStream nextPut: $';			nextPutAll: (primDecl at: 2);			nextPut: $'.		(primDecl at: 1) ifNotNil: [			aStream nextPutAll: ' module: ';				nextPut: $';				nextPutAll: (primDecl at: 1);				nextPut: $'].	] ifFalse: [aStream print: primIndex].	aStream nextPut: $>.	(primIndex ~= 117 and: [primIndex ~= 120]) ifTrue: [		Smalltalk at: #Interpreter ifPresent: [:cls |			aStream nextPutAll: ' "', 				((cls classPool at: #PrimitiveTable) at: primIndex + 1) , '" '		].	].! !!PrimitiveNode methodsFor: 'as yet unclassified' stamp: 'ajh 3/19/2003 22:02'!sourceText	^ String streamContents: [:stream |		self printPrimitiveOn: stream]! !!PrimitiveNode methodsFor: 'as yet unclassified' stamp: 'ajh 7/14/2001 12:37'!spec	^ spec! !!PrimitiveNode methodsFor: 'as yet unclassified' stamp: 'ajh 7/14/2001 12:30'!spec: literal	spec _ literal! !!PrimitiveNode class methodsFor: 'as yet unclassified' stamp: 'ajh 7/14/2001 12:47'!null	^ self new num: 0! !