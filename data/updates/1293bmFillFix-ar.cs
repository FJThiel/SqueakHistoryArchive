'From Squeak 2.4b of April 23, 1999 on 2 July 1999 at 3:07:04 pm'!"Change Set:		BmFillFix-arDate:			2 July 1999Author:			Andreas RaabFixes Morphs that have InfiniteForms as colors."!!FormCanvas methodsFor: 'drawing-rectangles' stamp: 'ar 7/2/1999 15:03'!fillRectangle: aRectangle fillStyle: aFillStyle	"Fill the given rectangle."	| pattern |	aFillStyle isSolidFill ifTrue:[^self fillRectangle: aRectangle color: aFillStyle asColor].	"We have a very special case for filling with infinite forms"	(aFillStyle isBitmapFill and:[aFillStyle origin = (0@0)]) ifTrue:[		pattern _ aFillStyle form.		(aFillStyle direction = (pattern width @ 0) 			and:[aFillStyle normal = (0@pattern height)]) ifTrue:[				"Can use an InfiniteForm"				^self fillRectangle: aRectangle color: (InfiniteForm with: pattern)].	].	"Use a BalloonCanvas instead"	self asBalloonCanvas fillRectangle: aRectangle fillStyle: aFillStyle.! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:56'!direction	^patternForm width @ 0! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:54'!form	"Bitmap fills respond to #form"	^patternForm! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:54'!isBitmapFill	^true! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:54'!isGradientFill	^false! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:59'!isOrientedFill	^true! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:54'!isSolidFill	^false! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:55'!isTiled	"Return true if the receiver should be drawn as a tiled pattern"	^true! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:57'!normal	^0 @ patternForm height! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:56'!origin	^0@0! !!InfiniteForm methodsFor: 'fillstyle protocol' stamp: 'ar 7/2/1999 14:56'!origin: aPoint	"Ignored"! !