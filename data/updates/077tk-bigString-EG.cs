'From Squeak 2.0 of May 22, 1998 on 29 May 1998 at 9:50:03 am'!!DataStream methodsFor: 'all' stamp: 'tk 5/29/1998 09:44'!writeString: aString	"PRIVATE -- Write the contents of a String."	(byteStream isKindOf: DummyStream) ifTrue: [^ self].	byteStream nextStringPut: aString.! !!PositionableStream methodsFor: 'nonhomogeneous accessing' stamp: 'tk 5/29/1998 09:47'!nextString	"Read a string from the receiver. The first byte is the length of the 	string, unless it is greater than 192, in which case the first four bytes 	encode the length."	| aString length |	length _ self next.		"first byte."	length >= 192 ifTrue: [length _ length - 192.		1 to: 3 do: [:ii | length _ length * 256 + self next]].	aString _ String new: length.	self nextInto: aString.	^aString! !!PositionableStream methodsFor: 'nonhomogeneous accessing' stamp: 'tk 5/29/1998 09:41'!nextStringPut: s 	"Append the string, s, to the receiver.  Only used by DataStream.  Max size of 64*256*256*256."	| length |	(length _ s size) < 192		ifTrue: [self nextPut: length]		ifFalse: 			[self nextPut: (length digitAt: 4)+192.			self nextPut: (length digitAt: 3).			self nextPut: (length digitAt: 2).			self nextPut: (length digitAt: 1)].	self nextPutAll: s.	^s! !