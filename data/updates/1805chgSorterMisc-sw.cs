'From Squeak2.7 of 5 January 2000 [latest update: #1799] on 28 January 2000 at 10:14:48 am'!"Change Set:		chgSorterMisc-swDate:			28 January 2000Author:			Scott Wallace1.  In a change-sorter, after a 'copy all to other side', no longer advance the current selection to the next changeset.  This was formerly useful, before the submerge-into-other-side feature, but now gets in the way more often than not.2.  Add item to ChangeSorter's shifted menu allowing a given change set to be promoted so that it appears at the top of the list.3.  Reorder the ChangeSorter's shifted menu so that it no longer intermixes the ancient and anomalous item which does not relate to the currently-selected changeset with the rest that do."!!ChangeSorter methodsFor: 'access' stamp: 'sw 1/27/2000 11:19'!changeSetCurrentlyDisplayed	^ myChangeSet! !!ChangeSorter methodsFor: 'changeSet menu' stamp: 'sw 1/27/2000 11:21'!copyAllToOther	"Copy this entire change set into the one on the other side"	| companionSorter |	self checkThatSidesDiffer: [^ self].	(companionSorter _ parent other: self) changeSetCurrentlyDisplayed assimilateAllChangesFoundIn: myChangeSet.	companionSorter changed: #classList.	"Later the changeSet itself will notice..."	companionSorter changed: #messageList! !!ChangeSorter methodsFor: 'changeSet menu' stamp: 'sw 1/27/2000 15:03'!promoteToTopChangeSet	self class promoteToTop: myChangeSet! !!ChangeSorter methodsFor: 'changeSet menu' stamp: 'sw 1/27/2000 15:08'!shiftedChangeSetMenu: aMenu	aMenu add: 'conflicts with other change sets' action: #browseMethodConflicts.	aMenu balloonTextForLastItem: 'Browse all methods that occur both in this change set and in at least one other change set.'.	parent ifNotNil:		[aMenu add: 'conflicts with opposite side' action: #methodConflictsWithOtherSide.			aMenu balloonTextForLastItem: 'Browse all methods that occur both in this change set and in the one on the opposite side of the change sorter.'.].	aMenu addLine.	aMenu add: 'check for slips' action: #lookForSlips.	aMenu balloonTextForLastItem: 'Check this change set for halts and references to Transcript.'.	aMenu add: 'check for unsent messages' action: #checkForUnsentMessages.	aMenu balloonTextForLastItem:'Check this change set for messages that are not sent anywhere in the system'.	aMenu addLine.	aMenu add: 'inspect change set' action: #inspectChangeSet.	aMenu balloonTextForLastItem: 'Open an inspector on this change set. (There are some details in a change set which you don''t see in a change sorter.)'.	aMenu add: 'update' action: #update.	aMenu balloonTextForLastItem: 'Update the display for this change set.  (This is done automatically when you activate this window, so is seldom needed.)'.	aMenu add: 'go to change set''s project' action: #goToChangeSetsProject.	aMenu balloonTextForLastItem: 'If this change set is currently associated with a Project, go to that project right now.'.	aMenu add: 'promote to top of list' action: #promoteToTopChangeSet.	aMenu balloonTextForLastItem:'Make this change set appear first in change-set lists in all change sorters.'.	aMenu add: 'clear this change set' action: #clearChangeSet.	aMenu balloonTextForLastItem: 'Reset this change set to a pristine state where it holds no information. CAUTION: this is destructive and irreversible!!'.	aMenu addLine.	aMenu add: 'file into new...' action: #fileIntoNewChangeSet.	aMenu balloonTextForLastItem: 'Load a fileout from disk and place its changes into a new change set (seldom needed -- much better to do this from a file-list browser these days.)'.	aMenu addLine.	aMenu add: 'more...' action: #unshiftedYellowButtonActivity.	aMenu balloonTextForLastItem: 'Takes you back to the primary change-set menu.'.	^ aMenu! !!ChangeSorter class methodsFor: 'as yet unclassified' stamp: 'sw 1/27/2000 15:04'!promoteToTop: aChangeSet	"make aChangeSet the first in the list from now on"	self gatherChangeSets.	AllChangeSets remove: aChangeSet ifAbsent: [^ self].	AllChangeSets add: aChangeSet.	Smalltalk isMorphic ifTrue: [SystemWindow wakeUpTopWindowUponStartup]! !ChangeSorter removeSelector: #myChangeSet!