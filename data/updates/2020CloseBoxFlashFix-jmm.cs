'From Squeak2.8alpha of 4 February 2000 [latest update: #2005] on 22 April 2000 at 7:13:01 pm'!"Change Set:		1038CloseBoxFlashFix-jmmDate:			31 March 2000Author:			John M McIntosh johnmci@smalltalkconsulting.comThe close box and the grow box get redrawing continuously when the red button is down, this results in lots of redraw activity. Change the logic to remember state and only redraw when needed"!!Utilities class methodsFor: 'miscellaneous' stamp: 'JMM 3/31/2000 20:41'!awaitMouseUpIn: box whileMouseDownDo: doBlock1 whileMouseDownInsideDo: doBlock2 ifSucceed: succBlock	"The mouse has gone down in box; track the mouse, inverting the box while it's within, and if, on mouse up, the cursor was still within the box, execute succBlock.  While waiting for the mouse to come up, repeatedly execute doBlock1, and also, if the cursor is within the box, execute doBlock2.  6/10/96 sw3/31/00 JMM added logic to stop multiple redraws"	| p inside lightForm darkForm isLight |	p _ Sensor cursorPoint.	inside _ box insetBy: 1.	isLight _ true.	lightForm _ Form fromDisplay: inside.	darkForm _ lightForm deepCopy reverse.	[Sensor anyButtonPressed] whileTrue:		[doBlock1 value.		(box containsPoint: (p _ Sensor cursorPoint))			ifTrue: [doBlock2 value.					isLight ifTrue: 						[isLight _ false.						darkForm displayAt: inside origin]]			ifFalse: [isLight ifFalse:						[isLight _ true.						lightForm displayAt: inside origin]]].	(box containsPoint: p)		ifTrue: [lightForm displayAt: inside origin.				^ succBlock value]! !