'From Squeak2.6 of 11 October 1999 [latest update: #1557] on 16 October 1999 at 4:31:07 pm'!!BalloonEngine methodsFor: 'drawing' stamp: 'di 10/16/1999 16:19'!registerFills: fills	| fillIndexList index fillIndex |	((colorTransform notNil and:[colorTransform isAlphaTransform]) or:[		fills contains:[:any| any notNil and:[any isTranslucent]]])			ifTrue:[	self flush.					self reset.					postFlushNeeded _ true].	fillIndexList _ WordArray new: fills size.	index _ 1.	[index <= fills size] whileTrue:[		fillIndex _ self registerFill: (fills at: index).		fillIndex == nil 			ifTrue:[index _ 1] "Need to start over"			ifFalse:[fillIndexList at: index put: fillIndex.					index _ index+1]	].	^fillIndexList! !