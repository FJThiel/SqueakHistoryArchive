'From Squeak 2.4c of May 10, 1999 on 14 July 1999 at 10:24:52 am'!"Change Set:		menuTweaks-swDate:			14 July 1999Author:			Scott Wallace(1)  Restores visible lines to morphic menus for the case where menuColorFromWorld is false.(2)  Keeps menus from failing when menuColorFromWorld is true and the world's color is an InfiniteForm."!!MenuLineMorph methodsFor: 'drawing' stamp: 'sw 7/14/1999 10:14'!drawOn: aCanvas	| pref |	aCanvas		fillRectangle: (bounds topLeft corner: bounds rightCenter)		color: ((pref _ Preferences menuColorFromWorld)					ifTrue:						[owner color darker]					ifFalse:						[Preferences menuLineUpperColor]).	aCanvas		fillRectangle: (bounds leftCenter corner: bounds bottomRight)		color: (pref					ifTrue:						[owner color lighter]					ifFalse:						[Preferences menuLineLowerColor])! !!MenuMorph methodsFor: 'initialization' stamp: 'sw 7/14/1999 10:21'!setDefaultParameters	| worldColor |	((Preferences menuColorFromWorld and: [Display depth > 4]) and: [(worldColor _ self currentWorld color) isKindOf: Color])		ifTrue: [self setColor: (worldColor luminance > 0.7							ifTrue: [worldColor mixed: 0.8 with: Color black]							ifFalse: [worldColor mixed: 0.4 with: Color white])					borderWidth: Preferences menuBorderWidth					borderColor: #raised]		ifFalse: [self setColor: Preferences menuColor					borderWidth: Preferences menuBorderWidth					borderColor: Preferences menuBorderColor].	inset _ 3! !