'From Squeak2.8alpha of 16 February 2000 [latest update: #2205] on 24 May 2000 at 2:02:42 pm'!"Change Set:		SocketPluginFix-arDate:			24 May 2000Author:			Andreas RaabThe pluginization of sockets split the #listenOn: and #listenOn:backlogSize: into two separate primitives. Unfortunately, this doesn't quite work. The change set introduces a compatibility primitive for the socket plugin which is used for the (pre 2.8) indexed primitive references to either version of the two." !!Interpreter class methodsFor: 'initialization' stamp: 'ar 5/24/2000 13:39'!obsoleteIndexedPrimitiveTable	"Interpreter obsoleteIndexedPrimitiveTableString"	"Initialize the links from the (now obsolete) indexed primitives to	the new named primitives."	| table |	table _ Array new: MaxPrimitiveIndex+1.	#(		(96	(BitBltPlugin primitiveCopyBits))		(104 (BitBltPlugin primitiveDrawLoop))		(147 (BitBltPlugin primitiveWarpBits))		(146 (JoystickTabletPlugin primitiveReadJoystick))		"File Primitives (150-169)"		(150 (FilePlugin primitiveFileAtEnd))		(151 (FilePlugin primitiveFileClose))		(152 (FilePlugin primitiveFileGetPosition))		(153 (FilePlugin primitiveFileOpen))		(154 (FilePlugin primitiveFileRead))		(155 (FilePlugin primitiveFileSetPosition))		(156 (FilePlugin primitiveFileDelete))		(157 (FilePlugin primitiveFileSize))		(158 (FilePlugin primitiveFileWrite))		(159 (FilePlugin primitiveFileRename))		(160 (FilePlugin primitiveDirectoryCreate))		(161 (FilePlugin primitiveDirectoryDelimitor))		(162 (FilePlugin primitiveDirectoryLookup))		(163 (FilePlugin primitiveDirectoryDelete))		(169 (FilePlugin primitiveDirectorySetMacTypeAndCreator))		"Sound Primitives (170-199)"		(170 (SoundPlugin primitiveSoundStart))		(171 (SoundPlugin primitiveSoundStartWithSemaphore))		(172 (SoundPlugin primitiveSoundStop))		(173 (SoundPlugin primitiveSoundAvailableSpace))		(174 (SoundPlugin primitiveSoundPlaySamples))		(175 (SoundPlugin primitiveSoundPlaySilence))		(189 (SoundPlugin primitiveSoundInsertSamples))		(190 (SoundPlugin primitiveSoundStartRecording))		(191 (SoundPlugin primitiveSoundStopRecording))		(192 (SoundPlugin primitiveSoundGetRecordingSampleRate))		(193 (SoundPlugin primitiveSoundRecordSamples))		(194 (SoundPlugin primitiveSoundSetRecordLevel))		"Networking Primitives (200-229)"		(200 (SocketPlugin primitiveInitializeNetwork))		(201 (SocketPlugin primitiveResolverStartNameLookup))		(202 (SocketPlugin primitiveResolverNameLookupResult))		(203 (SocketPlugin primitiveResolverStartAddressLookup))		(204 (SocketPlugin primitiveResolverAddressLookupResult))		(205 (SocketPlugin primitiveResolverAbortLookup))		(206 (SocketPlugin primitiveResolverLocalAddress))		(207 (SocketPlugin primitiveResolverStatus))		(208 (SocketPlugin primitiveResolverError))		(209 (SocketPlugin primitiveSocketCreate))		(210 (SocketPlugin primitiveSocketDestroy))		(211 (SocketPlugin primitiveSocketConnectionStatus))		(212 (SocketPlugin primitiveSocketError))		(213 (SocketPlugin primitiveSocketLocalAddress))		(214 (SocketPlugin primitiveSocketLocalPort))		(215 (SocketPlugin primitiveSocketRemoteAddress))		(216 (SocketPlugin primitiveSocketRemotePort))		(217 (SocketPlugin primitiveSocketConnectToPort))		(218 (SocketPlugin primitiveSocketListenWithOrWithoutBacklog))		(219 (SocketPlugin primitiveSocketCloseConnection))		(220 (SocketPlugin primitiveSocketAbortConnection))		(221 (SocketPlugin primitiveSocketReceiveDataBufCount))		(222 (SocketPlugin primitiveSocketReceiveDataAvailable))		(223 (SocketPlugin primitiveSocketSendDataBufCount))		(224 (SocketPlugin primitiveSocketSendDone))		(225 (SocketPlugin primitiveSocketAccept))		"Other Primitives (230-249)"		(238 (SerialPlugin primitiveSerialPortOpen))		(239 (SerialPlugin primitiveSerialPortClose))		(240 (SerialPlugin primitiveSerialPortWrite))		(241 (SerialPlugin primitiveSerialPortRead))		"MIDI Primitives (520-539)"		(521 (MIDIPlugin primitiveMIDIClosePort))		(522 (MIDIPlugin primitiveMIDIGetClock))		(523 (MIDIPlugin primitiveMIDIGetPortCount))		(524 (MIDIPlugin primitiveMIDIGetPortDirectionality))		(525 (MIDIPlugin primitiveMIDIGetPortName))		(526 (MIDIPlugin primitiveMIDIOpenPort))		(527 (MIDIPlugin primitiveMIDIParameterGetOrSet))		(528 (MIDIPlugin primitiveMIDIRead))		(529 (MIDIPlugin primitiveMIDIWrite))		"Experimental Asynchrous File Primitives"		(540 (AsynchFilePlugin primitiveAsyncFileClose))		(541 (AsynchFilePlugin primitiveAsyncFileOpen))		(542 (AsynchFilePlugin primitiveAsyncFileReadResult))		(543 (AsynchFilePlugin primitiveAsyncFileReadStart))		(544 (AsynchFilePlugin primitiveAsyncFileWriteResult))		(545 (AsynchFilePlugin primitiveAsyncFileWriteStart))		"Pen Tablet Primitives"		(548 (JoystickTabletPlugin primitiveGetTabletParameters))		(549 (JoystickTabletPlugin primitiveReadTablet))		"Sound Codec Primitives"		"(550 primADPCMCodecprivateDecodeMono)			(551 primADPCMCodecprivateDecodeStereo)			(552 primADPCMCodecprivateEncodeMono)			(553 primADPCMCodecprivateEncodeStereo)"	) do:[:spec| table at: spec first+1 put: spec second].	^table! !!SocketPlugin methodsFor: 'primitives' stamp: 'ar 5/24/2000 13:38'!primitiveSocketListenWithOrWithoutBacklog	"Backward compatibility"	self export: true.	interpreterProxy methodArgumentCount = 2		ifTrue:[^self primitiveSocketListenOnPort]		ifFalse:[^self primitiveSocketListenOnPortBacklog]! !