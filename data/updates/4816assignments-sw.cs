'From Squeak3.3alpha of 25 January 2002 [latest update: #4743] on 6 February 2002 at 2:03:02 am'!"Change Set:		assignments-swDate:			30 March 2002Author:			Scott WallaceMakes the code compiled for assignments by the 'classic tile' system be something you might be willing to show your grocer."!!AssignmentTileMorph methodsFor: 'code generation' stamp: 'sw 2/6/2002 01:17'!assignmentReceiverTile	"Answer the TilePadMorph that should be sent storeCodeOn:indent: to get the receiver of the assignment properly stored on the code stream"	^ owner submorphs first! !!AssignmentTileMorph methodsFor: 'code generation' stamp: 'sw 2/6/2002 01:25'!operatorForAssignmentSuffix: aString	"Answer the operator associated with the receiver, assumed to be one of the compound assignments"	| toTest |	toTest _ aString asString.	#(	('Incr:'				'+')		('Decr:'				'-')		('Mult:'				'*'))	do:		[:pair | toTest = pair first ifTrue: [^ pair second]].	^ toTest	"AssignmentTileMorph new operatorForAssignmentSuffix: 'Incr:'"! !!AssignmentTileMorph methodsFor: 'code generation' stamp: 'sw 2/6/2002 01:26'!storeCodeOn: aStream indent: tabCount	"Generate code for an assignment statement.  The code generated looks presentable in the case of simple assignment, though the code generated for the increment/decrement/multiply cases is still the same old assignGetter... sort for now"	assignmentSuffix = ':'		ifTrue:   "Simple assignment, don't need existing value"			[aStream nextPutAll: (Utilities setterSelectorFor: assignmentRoot).			aStream space]		ifFalse:  "Assignments that require that old values be retrieved"			[aStream nextPutAll: (Utilities setterSelectorFor: assignmentRoot).			aStream space.			self assignmentReceiverTile storeCodeOn: aStream indent: tabCount.			aStream space.			aStream nextPutAll: (Utilities getterSelectorFor: assignmentRoot).			aStream space.			aStream nextPutAll: (self operatorForAssignmentSuffix: assignmentSuffix).			aStream space]! !