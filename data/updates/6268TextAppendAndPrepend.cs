'From Squeak3.8alpha of ''17 July 2004'' [latest update: #6259] on 25 September 2004 at 1:24:29 pm'!"Change Set:		TextAppendAndPrependDate:			25 September 2004Author:			tweenReverses the changes made to Text>>append: and Text>>prepend: in update 6187TextProtocolCleanUp.These methods should modify, and answer, the receiving Text object (rather than answering a new Text object). This changeset restores that behaviour, and adds some tests"!TestCase subclass: #TextAppendAndPrependTest	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Collections-Text-Tests'!!Text methodsFor: 'accessing' stamp: 'tk 9/4/2000 16:04'!append: stringOrText	self replaceFrom: string size + 1				to: string size with: stringOrText! !!Text methodsFor: 'accessing' stamp: 'ar 12/27/2001 00:03'!prepend: stringOrText	self replaceFrom: 1 to: 0 with: stringOrText! !!TextAppendAndPrependTest methodsFor: 'testing' stamp: 'tween 9/25/2004 13:21'!testAppendString	"tests the Text>>prepend: method when appending a String " 	| receiver argument result expectedResult |	receiver := 'xxx' asText  		addAttribute: TextEmphasis bold from: 1 to: 3.	argument := 'yyy'.	expectedResult := 'xxxyyy' asText 		addAttribute: TextEmphasis bold from: 1 to: 3.	result := receiver append: argument.	self assert: (result == receiver). 	self assert: (result string = expectedResult string).	self assert: (result runs = expectedResult runs)		! !!TextAppendAndPrependTest methodsFor: 'testing' stamp: 'tween 9/25/2004 13:21'!testAppendText	"tests the Text>>prepend: method when appending a Text " 	| receiver argument result expectedResult |	receiver := 'xxx' asText  		addAttribute: TextEmphasis bold from: 1 to: 3.	argument := 'yyy' asText		addAttribute: TextEmphasis italic from: 1 to: 3.		.	expectedResult := 'xxxyyy' asText 		addAttribute: TextEmphasis bold from: 1 to: 3;		addAttribute: TextEmphasis italic from: 4 to: 6.	result := receiver append: argument.	self assert: (result == receiver). 	self assert: (result string = expectedResult string).	self assert: (result runs = expectedResult runs)		! !!TextAppendAndPrependTest methodsFor: 'testing' stamp: 'tween 9/25/2004 13:21'!testPrependString	"tests the Text>>prepend: method when prepending a String " 	| receiver argument result expectedResult |	receiver := 'xxx' asText  		addAttribute: TextEmphasis bold from: 1 to: 3.	argument := 'yyy'.	expectedResult := 'yyyxxx' asText 		addAttribute: TextEmphasis bold from: 4 to: 6.	result := receiver prepend: argument.	self assert: (result == receiver). 	self assert: (result string = expectedResult string).	self assert: (result runs = expectedResult runs)	! !!TextAppendAndPrependTest methodsFor: 'testing' stamp: 'tween 9/25/2004 13:21'!testPrependText	"tests the Text>>prepend: method when prepending Text " 	| receiver argument result expectedResult |	receiver := 'xxx' asText  		addAttribute: TextEmphasis bold from: 1 to: 3.	argument := 'yyy' asText 		addAttribute: TextEmphasis italic from: 1 to: 3.	expectedResult := 'yyyxxx' asText 		addAttribute: TextEmphasis italic from: 1 to: 3;		addAttribute: TextEmphasis bold from: 4 to: 6.	result := receiver prepend: argument.	self assert: (result == receiver). 	self assert: (result string = expectedResult string).	self assert: (result runs = expectedResult runs)! !