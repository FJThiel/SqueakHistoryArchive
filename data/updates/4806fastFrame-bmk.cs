'From Squeak3.3alpha of 12 January 2002 [latest update: #4805] on 22 March 2002 at 11:53:59 am'!"Change Set:		fastFrame-bmkDate:			22 March 2002Author:			Brian KeeferWhen fastDragWindowForMorphic is in effect, makes window dragging start relative to where you first clicked, not wherever the mouse jerked to while the SystemWindow was waiting to see if this drag was merely a sloppy click."!!SystemWindow methodsFor: 'events' stamp: 'bmk 3/19/2002 02:09'!doFastFrameDrag: grabPoint	"Do fast frame dragging from the given point"	| offset newBounds outerWorldBounds |	outerWorldBounds _ self boundsIn: nil.	offset _ outerWorldBounds origin - grabPoint.	newBounds _ outerWorldBounds newRectFrom: [:f | 		Sensor cursorPoint + offset extent: outerWorldBounds extent].	self position: (self globalPointToLocal: newBounds topLeft); comeToFront! !!SystemWindow methodsFor: 'events' stamp: 'bmk 3/19/2002 02:11'!mouseMove: evt	"Handle a mouse-move event"	| cp |	cp _ evt cursorPoint.	self valueOfProperty: #clickPoint ifPresentDo: 		[:firstClick |		((self labelRect containsPoint: firstClick) and: [(cp dist: firstClick) > 3]) ifTrue:		["If this is a drag that started in the title bar, then pick me up"		^ self isSticky ifFalse:			[self fastFramingOn 				ifTrue: [self doFastFrameDrag: firstClick]				ifFalse: [evt hand grabMorph: self topRendererOrSelf]]]].	model windowActiveOnFirstClick ifTrue:		["Normally window takes control on first click.		Need explicit transmission for first-click activity."		submorphs do: [:m | (m containsPoint: cp) ifTrue: [m mouseMove: evt]]]! !SystemWindow removeSelector: #doFastFrameDrag!