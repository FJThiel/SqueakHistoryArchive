'From Squeak3.1alpha of 28 February 2001 [latest update: #4226] on 1 August 2001 at 11:12:10 am'!"Change Set:		menuHarmony-swDate:			1 August 2001Author:			Scott WallaceBrings the tool-menus for the instance-based and the class-based protocol-browser variants into better harmony.  In particular, the 'local' queries for inst-var and class-var refs are now available in both places.Also, switch over to using Dan's improved menu icon in the optional button panes of the various tools."!!CodeHolder methodsFor: 'misc' stamp: 'sw 8/1/2001 11:08'!menuButton	"Answer a button that brings up a menu.  Useful when adding new features, but at present is between uses"	| aButton |	aButton _ IconicButton new target: self;		borderWidth: 0;		labelGraphic: (ScriptingSystem formAtKey: #TinyMenu);		color: Color transparent; 		actWhen: #buttonDown;		actionSelector: #offerMenu;		yourself.	aButton setBalloonText: 'click here to get a menu with further options'.	^ aButton! !!Lexicon methodsFor: 'menu commands' stamp: 'sw 8/1/2001 11:01'!offerMenu	"Offer a menu to the user, in response to the hitting of the menu button on the tool pane"	| aMenu |	aMenu _ MenuMorph new defaultTarget: self.	aMenu addStayUpItem.	aMenu addList: #(		('vocabulary...' 			chooseVocabulary)		('what to show...'			offerWhatToShowMenu)		-		('navigate to a sender...' 	navigateToASender)		('recent...' 					navigateToRecentMethod)		('show methods in current change set'									showMethodsInCurrentChangeSet)		"('toggle search pane' 		toggleSearch)"		-		('browse full (b)' 			browseMethodFull)		('browse hierarchy (h)'		classHierarchy)		('browse method (O)'		openSingleMessageBrowser)		('browse protocol (p)'		browseFullProtocol)		-		('fileOut'					fileOutMessage)		('printOut'					printOutMessage)		-		('senders of... (n)'			browseSendersOfMessages)		('implementors of... (m)'		browseMessages)		('versions (v)' 				browseVersions)		('inheritance (i)'			methodHierarchy)		-		('inst var refs (local)'		setLocalInstVarRefs)		('inst var defs (local)'		setLocalInstVarDefs)		('class var refs (local)'		setLocalClassVarRefs)		-		('inst var refs' 				browseInstVarRefs)		('inst var defs' 				browseInstVarDefs)		('class var refs' 			browseClassVarRefs)		-		('more...'					shiftedYellowButtonActivity)).	aMenu popUpInWorld: ActiveWorld! !!InstanceBrowser methodsFor: 'menu commands' stamp: 'sw 8/1/2001 11:00'!offerMenu	"Offer a menu to the user, in response to the hitting of the menu button on the tool pane"	| aMenu |	aMenu _ MenuMorph new defaultTarget: self.	aMenu title: 'Messages of ', objectViewed nameForViewer.	aMenu addStayUpItem.	aMenu addList: #(		('vocabulary...' 			chooseVocabulary)		('what to show...'			offerWhatToShowMenu)		-		('navigate to a sender...' 	navigateToASender)		('recent...' 					navigateToRecentMethod)		('show methods in current change set'									showMethodsInCurrentChangeSet)		"('toggle search pane' 		toggleSearch)"		-		('browse full (b)' 			browseMethodFull)		('browse hierarchy (h)'		classHierarchy)		('browse method (O)'		openSingleMessageBrowser)		('browse protocol (p)'		browseFullProtocol)		-		('fileOut'					fileOutMessage)		('printOut'					printOutMessage)		-		('senders of... (n)'			browseSendersOfMessages)		('implementors of... (m)'		browseMessages)		('versions (v)' 				browseVersions)		('inheritance (i)'			methodHierarchy)		-		('inst var refs (local)'		setLocalInstVarRefs)		('inst var defs (local)'		setLocalInstVarDefs)		('class var refs (local)'		setLocalClassVarRefs)		-		('inst var refs' 				browseInstVarRefs)		('inst var defs' 				browseInstVarDefs)		('class var refs' 			browseClassVarRefs)		-		('viewer on me'				viewViewee)		('inspector on me'			inspectViewee)		-		('more...'					shiftedYellowButtonActivity)).	aMenu popUpInWorld: ActiveWorld! !