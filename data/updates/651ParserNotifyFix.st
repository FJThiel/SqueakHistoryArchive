'From Squeak 2.3 of January 14, 1999 on 5 February 1999 at 10:27:04 pm'!!Parser methodsFor: 'error handling' stamp: 'jrm 2/5/1999 21:19 Added test for encoder isNil.'!notify: string at: location	requestor isNil		ifTrue: [(encoder == self or: [encoder isNil]) ifTrue: [^ self fail  "failure setting up syntax error"].				SyntaxError 					errorInClass: encoder classEncoding					withCode: 						(source contents							copyReplaceFrom: location							to: location - 1							with: string , ' ->')					doitFlag: doitFlag]		ifFalse: [requestor					notify: string , ' ->'					at: location					in: source].	^self fail