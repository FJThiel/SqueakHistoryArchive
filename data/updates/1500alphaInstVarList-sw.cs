'From Squeak 2.5 of August 6, 1999 [latest update: #1499] on 28 September 1999 at 8:46:46 pm'!"Change Set:		alphaInstVarList-swDate:			28 September 1999Author:			Scott WallaceAdds an option to have instance-variable lists (such as those presented in response to 'inst var refs' and 'inst var defs' queries) offered in alphabetical order, making it easier to locate what you're looking for if the list is long, such as in HandMorph; achieved by adding a new item at the top of the list which reads 'show alphabetially'.If there are only five or fewer instance variables involved, the user is spared the option of the alphabetical list."!!ClassDescription methodsFor: 'instance variables' stamp: 'sw 9/28/1999 17:04'!chooseInstVarAlphabeticallyThenDo: aBlock	| allVars index |	"Put up a menu of all the instance variables in the receiver, presented in alphabetical order, and when the user chooses one, evaluate aBlock with the chosen variable as its parameter."	allVars _ self allInstVarNames asSortedArray.	allVars isEmpty ifTrue: [^ self inform: 'There are noinstance variables'].	index _ (PopUpMenu labelArray: allVars lines: #()) startUpWithCaption: 'Instance variables in', self name.	index = 0 ifTrue: [^ self].	aBlock value: (allVars at: index)! !!ClassDescription methodsFor: 'instance variables' stamp: 'sw 9/28/1999 20:26'!chooseInstVarThenDo: aBlock 	"Put up a menu of all the instance variables in the receiver, and when the user chooses one, evaluate aBlock with the chosen variable as its parameter.  If the list is 6 or larger, then offer an alphabetical formulation as an alternative. triggered by a 'show alphabetically' item at the top of the list."	| lines labelStream vars allVars index count offerAlpha |	(count _ self allInstVarNames size) = 0 ifTrue: 		[^ self inform: 'There are noinstance variables.'].	allVars _ OrderedCollection new.	lines _ OrderedCollection new.	labelStream _ WriteStream on: (String new: 200).	(offerAlpha _ count > 5)		ifTrue:			[lines add: 1.			allVars add: 'show alphabetically'.			labelStream nextPutAll: allVars first; cr].	self withAllSuperclasses reverseDo:		[:class |		vars _ class instVarNames.		vars do:			[:var |			labelStream nextPutAll: var; cr.			allVars add: var].		vars isEmpty ifFalse: [lines add: allVars size]].	labelStream skip: -1 "cut last CR".	(lines size > 0 and: [lines last = allVars size]) ifTrue:		[lines removeLast].  "dispense with inelegant line beneath last item"	index _ (PopUpMenu labels: labelStream contents lines: lines) startUpWithCaption: 'Instance variables in', class name.	index = 0 ifTrue: [^ self].	(index = 1 and: [offerAlpha]) ifTrue: [^ self chooseInstVarAlphabeticallyThenDo: aBlock].	aBlock value: (allVars at: index)! !