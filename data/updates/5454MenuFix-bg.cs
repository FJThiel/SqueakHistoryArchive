'From Squeak3.6beta of ''4 July 2003'' [latest update: #5387] on 6 August 2003 at 2:59:49 pm'!"Change Set:		MenuFixDate:			6 August 2003Author:			Boris GaertnerThis change set fixes a minor imperfection in MVC popup menues: The selection marker inverts the lower bound of the menue. This happens because the menue is not high enough."!!PopUpMenu methodsFor: 'private' stamp: 'BG 8/6/2003 12:34'!computeForm	"Compute and answer a Form to be displayed for this menu."	| borderInset paraForm menuForm inside |	borderInset _ 4@4.	paraForm _ (DisplayText text: labelString asText textStyle: MenuStyle) form.	menuForm _ Form extent: paraForm extent + (borderInset * 2) depth: paraForm depth.      menuForm fill: (0 @ 0 extent: menuForm  extent)                        rule: Form over                        fillColor: Color white.	menuForm borderWidth: 2.	paraForm displayOn: menuForm at: borderInset.	lineArray == nil ifFalse:		[lineArray do:			[ :line |			menuForm fillBlack: (4 @ ((line * font height) + borderInset y)				extent: (menuForm width - 8 @ 1))]].	frame _ Quadrangle new.	frame region: menuForm boundingBox.	frame borderWidth: 4.	inside _ frame inside.	marker _ inside topLeft extent: (inside width @ MenuStyle lineGrid).	selection _ 1.	^ form _ menuForm! !