'From Squeak3.1alpha [latest update: #''Squeak3.1alpha'' of 5 February 2001 update 3913] on 6 April 2001 at 6:33:13 pm'!"Change Set:		projectWithCSDate:			6 April 2001Author:			Bob Arningchanges sets written as part of a project were not including the preamble or postscript"!!ReadWriteStream methodsFor: 'fileIn/Out' stamp: 'RAA 4/6/2001 18:32'!fileOutChangeSet: aChangeSetOrNil andObject: theObject	"Write a file that has both the source code for the named class and an object as bits.  Any instance-specific object will get its class written automatically."	"An experimental version to fileout a changeSet first so that a project can contain its own classes"	self setFileTypeToObject.		"Type and Creator not to be text, so can attach correctly to an email msg"	self header; timeStamp.	aChangeSetOrNil ifNotNil: [		aChangeSetOrNil fileOutPreambleOn: self.		aChangeSetOrNil fileOutOn: self.		aChangeSetOrNil fileOutPostscriptOn: self.	].	self trailer.	"Does nothing for normal files.  HTML streams will have trouble with object data"	"Append the object's raw data"	(SmartRefStream on: self)		nextPut: theObject;  "and all subobjects"		close.		"also closes me"! !