'From Squeak3.1alpha of 28 February 2001 [latest update: #4063] on 23 May 2001 at 4:19:55 pm'!"Change Set:		Fix4039Recompilation-arDate:			23 May 2001Author:			Andreas RaabFixes 4039RecompileUpdateCS which attempted to fix a problem in a quite inappropriate way. This CS reverts to the prior version of Behavior>>recompile:from: and fixes the problem addressed previously by simply not storing the currentCompiledMethod when storing a method change record. There's no point in doing it anyways."!!Behavior methodsFor: 'creating method dictionary' stamp: 'di 5/24/2000 16:05'!recompile: selector from: oldClass	"Compile the method associated with selector in the receiver's method dictionary."	"ar 7/10/1999: Use oldClass compiledMethodAt: not self compiledMethodAt:"	| method trailer methodNode |	method _ oldClass compiledMethodAt: selector.	trailer _ (method endPC + 1 to: method size) collect: [:i | method at: i].	methodNode _ self compilerClass new				compile: (oldClass sourceCodeAt: selector)				in: self				notifying: nil				ifFail: [^ self].   "Assume OK after proceed from SyntaxError"	selector == methodNode selector ifFalse: [self error: 'selector changed!!'].	self addSelector: selector withMethod: (methodNode generate: trailer).! !!MethodChangeRecord methodsFor: 'as yet unclassified' stamp: 'ar 5/23/2001 16:16'!storeDataOn: aDataStream	| oldMethod |	oldMethod _ currentMethod.	currentMethod _ nil.	super storeDataOn: aDataStream.	currentMethod _ oldMethod.! !