'From Squeak2.9alpha of 17 July 2000 [latest update: #3238] on 8 January 2001 at 9:41:24 pm'!"Change Set:		fixedPaneDate:			8 January 2001Author:			Bob ArningChanges to FileList2 to make certain parts fixed height (the buttons, e.g.)"!!FileList2 class methodsFor: 'utility' stamp: 'RAA 1/8/2001 21:23'!addFullPanesTo: window from: aCollection	| frame |	aCollection do: [ :each |		frame _ LayoutFrame 			fractions: each second 			offsets: each third.		window addMorph: each first fullFrame: frame.	]! !!FileList2 class methodsFor: 'morphic ui' stamp: 'RAA 1/8/2001 21:29'!morphicView	| dir aFileList window fileListBottom midLine fileListTopOffset |	dir _ FileDirectory default.	aFileList _ self new directory: dir.	window _ (SystemWindow labelled: dir pathName) model: aFileList.	fileListTopOffset _ 25.	fileListBottom _ 0.4.	midLine _ 0.4.	self addFullPanesTo: window from: {		{aFileList morphicPatternPane. 0@0 corner: 0.3@0. 0@0 corner: 0@fileListTopOffset}.		{aFileList optionalButtonRow. 0.3 @ 0 corner: 1 @ 0. 0@0 corner: 0@fileListTopOffset}.		{aFileList morphicDirectoryTreePane. 0@0 corner: midLine@fileListBottom. 					0@fileListTopOffset corner: 0@0}.		{aFileList morphicFileListPane. midLine @ 0 corner: 1@fileListBottom. 					0@fileListTopOffset corner: 0@0}.		{aFileList morphicFileContentsPane. 0@fileListBottom corner: 1@1. nil}.	}.	aFileList postOpen.	^ window ! !!FileList2 class methodsFor: 'morphic ui' stamp: 'RAA 1/8/2001 21:34'!morphicViewFolderSelector	| dir aFileList window fixedSize |	dir _ FileDirectory default.	aFileList _ self new directory: dir.	aFileList optionalButtonSpecs: self specsForFolderSelector.	window _ (SystemWindow labelled: dir pathName) model: aFileList.	aFileList modalView: window.	fixedSize _ 25.	self addFullPanesTo: window from: {		{self textRow: 'Please select a folder'. 0 @ 0 corner: 1 @ 0. 				0@0 corner: 0@fixedSize}.		{aFileList optionalButtonRow. 0 @ 0 corner: 1 @ 0. 				0@fixedSize corner: 0@(fixedSize * 2)}.		{aFileList morphicDirectoryTreePane. 0@0 corner: 1@1.				0@(fixedSize * 2) corner: 0@0}.	}.	aFileList postOpen.	^ window ! !!FileList2 class methodsFor: 'morphic ui' stamp: 'RAA 1/8/2001 21:36'!morphicViewImageViewer	| dir aFileList window midLine fixedSize |	dir _ FileDirectory default.	aFileList _ self new directory: dir.	aFileList optionalButtonSpecs: self specsForImageViewer.	aFileList fileSelectionBlock: [ :entry :myPattern |		entry isDirectory ifTrue: [			false		] ifFalse: [			#('bmp' 'gif' 'jpg' 'form' suffix = 'png') includes: 					(aFileList getSuffix: entry name asLowercase)		]	] fixTemps.	window _ (SystemWindow labelled: dir pathName) model: aFileList.	fixedSize _ 25.	midLine _ 0.4.	self addFullPanesTo: window from: {		{aFileList optionalButtonRow. 0 @ 0 corner: 1 @ 0.				0@0 corner: 0@fixedSize}.		{aFileList morphicDirectoryTreePane. 0@0 corner: midLine@1.				0@fixedSize corner: 0@0}.		{aFileList morphicFileListPane. midLine @ 0 corner: 1@1.				0@fixedSize corner: 0@0}.	}.	aFileList postOpen.	^ window ! !!FileList2 class methodsFor: 'morphic ui' stamp: 'RAA 1/8/2001 21:39'!morphicViewNoFile	| dir aFileList window midLine fixedSize |	dir _ FileDirectory default.	aFileList _ self new directory: dir.	window _ (SystemWindow labelled: dir pathName) model: aFileList.	fixedSize _ 25.	midLine _ 0.4.	self addFullPanesTo: window from: {		{aFileList morphicPatternPane. 0@0 corner: 0.3@0. 0@0 corner: 0@fixedSize}.		{aFileList optionalButtonRow. 0.3 @ 0 corner: 1@0. 0@0 corner: 0@fixedSize}.		{aFileList morphicDirectoryTreePane. 0@0 corner: midLine@1. 0@fixedSize corner: 0@0}.		{aFileList morphicFileListPane. midLine @ 0 corner: 1@1. 0@fixedSize corner: 0@0}.	}.	aFileList postOpen.	^ window ! !!FileList2 class methodsFor: 'morphic ui' stamp: 'RAA 1/8/2001 21:39'!morphicViewProjectLoader	| dir aFileList window midLine fixedSize |	dir _ FileDirectory default.	aFileList _ self new directory: dir.	aFileList optionalButtonSpecs: self specsForProjectLoader.	aFileList fileSelectionBlock: self projectOnlySelectionBlock.	window _ (SystemWindow labelled: dir pathName) model: aFileList.	fixedSize _ 25.	midLine _ 0.4.	self addFullPanesTo: window from: {		{aFileList optionalButtonRow. 0 @ 0 corner: 1 @ 0. 0@0 corner: 0@fixedSize}.		{aFileList morphicDirectoryTreePane. 0@0 corner: midLine@1. 0@fixedSize corner: 0@0}.		{aFileList morphicFileListPane. midLine @ 0 corner: 1@1. 0@fixedSize corner: 0@0}.	}.	aFileList postOpen.	^ window ! !!LayoutFrame class methodsFor: 'as yet unclassified' stamp: 'RAA 1/8/2001 21:22'!fractions: fractionsOrNil offsets: offsetsOrNil	| fractions offsets |	fractions _ fractionsOrNil ifNil: [0@0 extent: 0@0].	offsets _ offsetsOrNil ifNil: [0@0 extent: 0@0].	^self new		topFraction: fractions top offset: offsets top;		leftFraction: fractions left offset: offsets left;		bottomFraction: fractions bottom offset: offsets bottom;		rightFraction: fractions right offset: offsets right! !!SystemWindow methodsFor: 'panes' stamp: 'RAA 1/8/2001 20:37'!addMorph: aMorph frame: relFrame	| frame |	frame _ LayoutFrame new.	frame 		leftFraction: relFrame left; 		rightFraction: relFrame right; 		topFraction: relFrame top; 		bottomFraction: relFrame bottom.	self addMorph: aMorph fullFrame: frame.! !!SystemWindow methodsFor: 'panes' stamp: 'RAA 1/8/2001 21:21'!addMorph: aMorph fullFrame: aLayoutFrame	aLayoutFrame topOffset: (aLayoutFrame topOffset ifNil: [0]) + self labelHeight.	aLayoutFrame bottomFraction = 1.0 ifFalse: [		aLayoutFrame bottomOffset: (			(aLayoutFrame bottomOffset ifNil: [0]) + self labelHeight		) negated	].	aMorph layoutFrame: aLayoutFrame.	aMorph hResizing: #spaceFill; vResizing: #spaceFill.	self addMorph: aMorph.	paneMorphs _ paneMorphs copyReplaceFrom: 1 to: 0 with: (Array with: aMorph).	aMorph borderWidth: 1.	aMorph color: self paneColor.! !