'From Squeak2.9alpha of 17 July 2000 [latest update: #3313] on 28 January 2001 at 8:47:09 am'!"Change Set:		publishFixesDate:			28 January 2001Author:			Bob ArningA couple of minor fixes for project publishing"!!Project class methodsFor: 'squeaklet on server' stamp: 'RAA 1/28/2001 08:39'!isBadNameForStoring: aString	| badChars |	"will the name of this project cause problems when stored on an arbitrary file system?"	badChars _ #( $: $< $> $| $/ $\ $? $* $" $.) asSet.	^aString size > 24 or: [		aString anySatisfy: [ :each | 			each asciiValue < 32 or: [badChars includes: each]		]	]! !!SuperSwikiServer methodsFor: 'for real' stamp: 'RAA 1/28/2001 08:45'!updateProjectInfoFor: aProject	| data details projectLinks linkString uploader |	data _ OrderedCollection new.	data add: 'action: updatepage'.	data add: 'projectimage: ',aProject name,'.gif'.	uploader _ Utilities authorNamePerSe ifNil: [Utilities authorInitialsPerSe].	uploader ifNotNil: [		data add: 'submittedBy: ',uploader.	].	projectLinks _ Set new.	aProject world allMorphsDo: [ :each |		(each isKindOf: ProjectViewMorph) ifTrue: [			projectLinks add: each safeProjectName.		].	].	details _ aProject world valueOfProperty: #ProjectDetails ifAbsent: [Dictionary new].	details at: 'projectname' ifAbsentPut: [aProject name].	projectLinks isEmpty ifTrue: [		details removeKey: 'projectlinks' ifAbsent: []	] ifFalse: [		linkString _ String streamContents: [ :strm |			projectLinks asSortedCollection do: [ :each |				strm nextPutAll: each			] separatedBy: [				strm nextPut: $.			].		].		details at: 'projectlinks' put: linkString	].	details keysAndValuesDo: [ :k :v |		data add: k , ': ' , v	].	^self sendToSwikiProjectServer: data.! !