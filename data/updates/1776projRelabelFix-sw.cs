'From Squeak2.7 of 5 January 2000 [latest update: #1774] on 11 January 2000 at 4:21:31 pm'!"Change Set:		projRelabelFix-swDate:			11 January 2000Author:			Scott WallaceFixes a bug relating to the exiting of a project whose change set has been renamed and which is rooted in an mvc projet.   Thanks to Mike Rutenberg for reporting"!!StandardSystemView methodsFor: 'label access' stamp: 'sw 1/11/2000 15:27'!setLabelTo: aString 	"Force aString to be the new label of the receiver, bypassing any logic about whether it is acceptable and about propagating information about the change."	| oldRegion oldWidth |	oldRegion _ self labelTextRegion.	oldWidth _ self insetDisplayBox width.	self label: aString.	Display fill: ((oldRegion merge: self labelTextRegion) expandBy: 3@0)			fillColor: self labelColor.	self insetDisplayBox width = oldWidth		ifTrue: [self displayLabelText; emphasizeLabel]		ifFalse: [self uncacheBits; displayEmphasized].! !!StandardSystemView methodsFor: 'updating' stamp: 'sw 1/11/2000 15:30'!update: aSymbol	aSymbol = #relabel		ifTrue: [^ self setLabelTo: model labelString].	^ super update: aSymbol! !!ProjectView methodsFor: 'initialization' stamp: 'sw 1/11/2000 15:30'!uncacheBits	super uncacheBits.	self label ~=  model name ifTrue: [self setLabelTo: model name]! !!ProjectView methodsFor: 'displaying' stamp: 'sw 1/11/2000 15:32'!displayView	super displayView.	self label = model name		ifFalse: [self setLabelTo: model name].	self isCollapsed ifTrue: [^ self].	model thumbnail ifNil: [^ self].	self insetDisplayBox extent = model thumbnail extent		ifTrue: [model thumbnail displayAt: self insetDisplayBox topLeft]		ifFalse: [(model thumbnail					magnify: model thumbnail boundingBox					by: self insetDisplayBox extent asFloatPoint / model thumbnail extent) 				displayAt: self insetDisplayBox topLeft]! !