'From Squeak3.1alpha of 28 February 2001 [latest update: #3970] on 3 May 2001 at 1:44:44 pm'!"Change Set:		FloatArrayPluginFixDate:			3 May 2001Author:			Andreas RaabMakes the new #primitiveHash available and removes the old (and broken) one."!!FloatArrayPlugin methodsFor: 'access primitives' stamp: 'ar 5/3/2001 13:01'!primitiveHashArray	| rcvr rcvrPtr length result |	self export: true.	self var: #rcvrPtr declareC:'int *rcvrPtr'.	rcvr _ interpreterProxy stackObjectValue: 0.	interpreterProxy failed ifTrue:[^nil].	interpreterProxy success: (interpreterProxy isWords: rcvr).	interpreterProxy failed ifTrue:[^nil].	length _ interpreterProxy stSizeOf: rcvr.	rcvrPtr _ self cCoerce: (interpreterProxy firstIndexableField: rcvr) to: 'int *'.	result _ 0.	0 to: length-1 do:[:i|		result _ result + (rcvrPtr at: i).	].	interpreterProxy pop: 1.	^interpreterProxy pushInteger: (result bitAnd: 16r1FFFFFFF)! !!Interpreter class methodsFor: 'initialization' stamp: 'ar 5/3/2001 13:02'!obsoleteNamedPrimitiveTable	"Interpreter obsoleteNamedPrimitiveTableString"	"Initialize the links from the (now obsolete) named primitives to	the new named primitives."	^#(		(gePrimitiveMergeFillFrom B2DPlugin primitiveMergeFillFrom)		(gePrimitiveSetClipRect B2DPlugin primitiveSetClipRect)		(gePrimitiveDoProfileStats B2DPlugin primitiveDoProfileStats)		(gePrimitiveAddCompressedShape B2DPlugin primitiveAddCompressedShape)		(gePrimitiveFinishedProcessing B2DPlugin primitiveFinishedProcessing)		(gePrimitiveGetBezierStats B2DPlugin primitiveGetBezierStats)		(gePrimitiveSetDepth B2DPlugin primitiveSetDepth)		(gePrimitiveAbortProcessing B2DPlugin primitiveAbortProcessing)		(gePrimitiveGetTimes B2DPlugin primitiveGetTimes)		(gePrimitiveNextActiveEdgeEntry B2DPlugin primitiveNextActiveEdgeEntry)		(gePrimitiveAddBezier B2DPlugin primitiveAddBezier)		(gePrimitiveRenderScanline B2DPlugin primitiveRenderScanline)		(gePrimitiveAddBezierShape B2DPlugin primitiveAddBezierShape)		(gePrimitiveAddLine B2DPlugin primitiveAddLine)		(gePrimitiveRenderImage B2DPlugin primitiveRenderImage)		(gePrimitiveGetAALevel B2DPlugin primitiveGetAALevel)		(gePrimitiveRegisterExternalEdge B2DPlugin primitiveRegisterExternalEdge)		(gePrimitiveInitializeBuffer B2DPlugin primitiveInitializeBuffer)		(gePrimitiveAddRect B2DPlugin primitiveAddRect)		(gePrimitiveInitializeProcessing B2DPlugin primitiveInitializeProcessing)		(gePrimitiveAddBitmapFill B2DPlugin primitiveAddBitmapFill)		(gePrimitiveGetClipRect B2DPlugin primitiveGetClipRect)		(gePrimitiveGetFailureReason B2DPlugin primitiveGetFailureReason)		(gePrimitiveNextGlobalEdgeEntry B2DPlugin primitiveNextGlobalEdgeEntry)		(gePrimitiveNextFillEntry B2DPlugin primitiveNextFillEntry)		(gePrimitiveSetColorTransform B2DPlugin primitiveSetColorTransform)		(gePrimitiveDisplaySpanBuffer B2DPlugin primitiveDisplaySpanBuffer)		(gePrimitiveGetOffset B2DPlugin primitiveGetOffset)		(gePrimitiveAddPolygon B2DPlugin primitiveAddPolygon)		(gePrimitiveNeedsFlush B2DPlugin primitiveNeedsFlush)		(gePrimitiveAddOval B2DPlugin primitiveAddOval)		(gePrimitiveSetAALevel B2DPlugin primitiveSetAALevel)		(gePrimitiveCopyBuffer B2DPlugin primitiveCopyBuffer)		(gePrimitiveAddActiveEdgeEntry B2DPlugin primitiveAddActiveEdgeEntry)		(gePrimitiveGetCounts B2DPlugin primitiveGetCounts)		(gePrimitiveSetOffset B2DPlugin primitiveSetOffset)		(gePrimitiveAddGradientFill B2DPlugin primitiveAddGradientFill)		(gePrimitiveChangedActiveEdgeEntry B2DPlugin primitiveChangedActiveEdgeEntry)		(gePrimitiveRegisterExternalFill B2DPlugin primitiveRegisterExternalFill)		(gePrimitiveGetDepth B2DPlugin primitiveGetDepth)		(gePrimitiveSetEdgeTransform B2DPlugin primitiveSetEdgeTransform)		(gePrimitiveNeedsFlushPut B2DPlugin primitiveNeedsFlushPut)		(primitiveFloatArrayAt FloatArrayPlugin primitiveAt)		(primitiveFloatArrayMulFloatArray FloatArrayPlugin primitiveMulFloatArray)		(primitiveFloatArrayAddScalar FloatArrayPlugin primitiveAddScalar)		(primitiveFloatArrayDivFloatArray FloatArrayPlugin primitiveDivFloatArray)		(primitiveFloatArrayDivScalar FloatArrayPlugin primitiveDivScalar)		(primitiveFloatArrayHash FloatArrayPlugin primitiveHashArray)		(primitiveFloatArrayAtPut FloatArrayPlugin primitiveAtPut)		(primitiveFloatArrayMulScalar FloatArrayPlugin primitiveMulScalar)		(primitiveFloatArrayAddFloatArray FloatArrayPlugin primitiveAddFloatArray)		(primitiveFloatArraySubScalar FloatArrayPlugin primitiveSubScalar)		(primitiveFloatArraySubFloatArray FloatArrayPlugin primitiveSubFloatArray)		(primitiveFloatArrayEqual FloatArrayPlugin primitiveEqual)		(primitiveFloatArrayDotProduct FloatArrayPlugin primitiveDotProduct)		(m23PrimitiveInvertRectInto Matrix2x3Plugin primitiveInvertRectInto)		(m23PrimitiveTransformPoint Matrix2x3Plugin primitiveTransformPoint)		(m23PrimitiveIsPureTranslation Matrix2x3Plugin primitiveIsPureTranslation)		(m23PrimitiveComposeMatrix Matrix2x3Plugin primitiveComposeMatrix)		(m23PrimitiveTransformRectInto Matrix2x3Plugin primitiveTransformRectInto)		(m23PrimitiveIsIdentity Matrix2x3Plugin primitiveIsIdentity)		(m23PrimitiveInvertPoint Matrix2x3Plugin primitiveInvertPoint)		(primitiveDeflateBlock ZipPlugin primitiveDeflateBlock)		(primitiveDeflateUpdateHashTable ZipPlugin primitiveDeflateUpdateHashTable)		(primitiveUpdateGZipCrc32 ZipPlugin primitiveUpdateGZipCrc32)		(primitiveInflateDecompressBlock ZipPlugin primitiveInflateDecompressBlock)		(primitiveZipSendBlock ZipPlugin primitiveZipSendBlock)		(primitiveFFTTransformData FFTPlugin primitiveFFTTransformData)		(primitiveFFTScaleData FFTPlugin primitiveFFTScaleData)		(primitiveFFTPermuteData FFTPlugin primitiveFFTPermuteData)	)! !FloatArrayPlugin removeSelector: #primitiveHash!