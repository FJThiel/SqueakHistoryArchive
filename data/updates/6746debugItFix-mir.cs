'From Squeak3.8.1 of 8 February 2006 [latest update: #6738] on 28 March 2006 at 5:37:33 pm'!"Change Set:		debugItFix-mirDate:			28 March 2006Author:			Michael RuegerMakes debug it work in work spaces.Consider this a workaround, the whole compiler/debugger stuff is so seriously broken in 3.8 I found no way to actually fix it."!!ParagraphEditor methodsFor: 'do-its' stamp: 'mir 3/28/2006 17:30'!debug: aCompiledMethod receiver: anObject in: evalContext	| selector guineaPig debugger context |	selector _ evalContext isNil ifTrue: [#DebugIt] ifFalse: [#DebugItIn:].	anObject class addSelectorSilently: selector withMethod: aCompiledMethod.	guineaPig _ evalContext isNil		ifTrue: [[anObject DebugIt] newProcess]		ifFalse: [[anObject DebugItIn: evalContext] newProcess].	context _ guineaPig suspendedContext.	debugger _ Debugger new		process: guineaPig		controller: ((Smalltalk isMorphic not and: [ScheduledControllers inActiveControllerProcess])				ifTrue: [ScheduledControllers activeController]				ifFalse: [nil])		context: context		isolationHead: nil.	debugger openFullNoSuspendLabel: 'Debug it'.	[debugger interruptedContext method == aCompiledMethod]		whileFalse: [debugger send].	anObject class basicRemoveSelector: selector! !