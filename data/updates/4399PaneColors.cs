'From Squeak3.1alpha of 20 February 2001 [latest update: #4398] on 2 October 2001 at 9:35:02 am'!"Change Set:		PaneColorsDate:			2 October 2001Author:			Joshua GargusUpdate:			4398Changes the background of browsers, change-sorters, etc. from white to a veryMuchLighter version of their border color.  I think this looks prettier, without compromising the legibility of a light background."!!CodeHolder methodsFor: 'annotation' stamp: 'jcg 9/22/2001 00:41'!addOptionalAnnotationsTo: window at: fractions plus: verticalOffset	"Add an annotation pane to the window if preferences indicate a desire for it, and return the incoming verticalOffset plus the height of the added pane, if any"	| aTextMorph divider delta |	self wantsAnnotationPane ifFalse: [^ verticalOffset].	aTextMorph _ PluggableTextMorph 		on: self		text: #annotation 		accept: nil		readSelection: nil		menu: #annotationPaneMenu:shifted:.	aTextMorph		askBeforeDiscardingEdits: false;		borderWidth: 0;		hideScrollBarIndefinitely.	divider _ BorderedSubpaneDividerMorph forBottomEdge.	Preferences alternativeWindowLook ifTrue:[		divider extent: 4@4; color: Color transparent; borderColor: #raised; borderWidth: 2.	].	delta _ self defaultAnnotationPaneHeight.	window 		addMorph: aTextMorph 		fullFrame: (LayoutFrame 				fractions: fractions 				offsets: (0@verticalOffset corner: 0@(verticalOffset + delta - 1))).	window 		addMorph: divider		fullFrame: (LayoutFrame 				fractions: fractions 				offsets: (0@(verticalOffset + delta - 1) corner: 0@(verticalOffset + delta))).	^ verticalOffset + delta! !!Browser methodsFor: 'initialize-release' stamp: 'jcg 9/22/2001 00:38'!buildMorphicSwitches	| instanceSwitch divider1 divider2 commentSwitch classSwitch row aColor |	instanceSwitch _ PluggableButtonMorph		on: self		getState: #instanceMessagesIndicated		action: #indicateInstanceMessages.	instanceSwitch		label: 'instance';		askBeforeChanging: true;		borderWidth: 0.	commentSwitch _ PluggableButtonMorph		on: self		getState: #classCommentIndicated		action: #plusButtonHit.	commentSwitch		label: '?' asText allBold;		askBeforeChanging: true;		setBalloonText: 'class comment';		borderWidth: 0.	classSwitch _ PluggableButtonMorph		on: self		getState: #classMessagesIndicated		action: #indicateClassMessages.	classSwitch		label: 'class';		askBeforeChanging: true;		borderWidth: 0.	divider1 := BorderedSubpaneDividerMorph vertical.	divider2 := BorderedSubpaneDividerMorph vertical.	Preferences alternativeWindowLook ifTrue:[		divider1 extent: 4@4; borderWidth: 2; borderRaised; color: Color transparent.		divider2 extent: 4@4; borderWidth: 2; borderRaised; color: Color transparent.	].	row _ AlignmentMorph newRow		hResizing: #spaceFill;		vResizing: #spaceFill;		layoutInset: 0;		borderWidth: 0;		addMorphBack: instanceSwitch;		addMorphBack: divider1;		addMorphBack: commentSwitch;		addMorphBack: divider2;		addMorphBack: classSwitch.	aColor _ Color colorFrom: self defaultBackgroundColor.	Preferences alternativeWindowLook ifTrue:[aColor _ aColor muchLighter].	{instanceSwitch. commentSwitch. classSwitch} do: [:m | 		m 			color: aColor;			onColor: aColor darker offColor: aColor;			hResizing: #spaceFill;			vResizing: #spaceFill.	].	^ row! !!SystemWindow methodsFor: 'panes' stamp: 'jcg 9/22/2001 00:56'!addMorph: aMorph fullFrame: aLayoutFrame	super addMorph: aMorph fullFrame: aLayoutFrame.	paneMorphs _ paneMorphs copyReplaceFrom: 1 to: 0 with: (Array with: aMorph).	Preferences alternativeWindowLook ifFalse:[		aMorph borderWidth: 1.		aMorph color: self paneColor.	] ifTrue:[		aMorph borderWidth: 2; borderColor: #inset; color: self paneColor veryMuchLighter.	].! !