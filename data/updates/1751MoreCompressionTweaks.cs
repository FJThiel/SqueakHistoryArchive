'From Squeak2.6 of 13 October 1999 [latest update: #1750] on 2 January 2000 at 5:26:08 pm'!"Change Set:		MoreCompressionTweaksDate:			2 January 2000Author:			Andreas RaabFixes problems introduced with the last change set (seems like I wasn't really recovered from the party yet...)"!!PositionableStream methodsFor: 'testing' stamp: 'ar 1/2/2000 17:24'!isBinary	"Return true if the receiver is a binary byte stream"	^collection class == ByteArray! !!ZipEncoder methodsFor: 'initialize-release' stamp: 'ar 1/2/2000 17:22'!on: aCollectionOrStream	aCollectionOrStream isStream 		ifTrue:[encodedStream _ aCollectionOrStream]		ifFalse:[	encodedStream _ WriteStream on: aCollectionOrStream].	encodedStream isBinary		ifTrue:[super on: (ByteArray new: 4096)]		ifFalse:[super on: (String new: 4096)].	bitPosition _ bitBuffer _ 0.! !!ZipWriteStream methodsFor: 'initialize-release' stamp: 'ar 1/2/2000 17:23'!on: aCollectionOrStream	encoder _ ZipEncoder on: aCollectionOrStream.	encoder isBinary		ifTrue:[super on: ByteArray new]		ifFalse:[super on: String new]! !