'From Squeak3.2alpha of 17 December 2001 [latest update: #4640] on 31 December 2001 at 5:00:24 pm'!"Change Set:		MaskingFix-arDate:			31 December 2001Author:			Andreas RaabFix a problem with color map caching of fonts."!!FormCanvas methodsFor: 'drawing-text' stamp: 'ar 12/31/2001 16:58'!drawString: aString from: firstIndex to: lastIndex at: aPoint font: fontOrNil color: c	| font |	port colorMap: nil.	font _ fontOrNil ifNil: [TextStyle defaultFont].	font installOn: port		foregroundColor: (self shadowColor ifNil:[c]) 		backgroundColor: Color transparent.	port combinationRule: Form paint.	font displayString: aString on: port 		from: firstIndex to: lastIndex at: (origin + aPoint) kern: 0.! !!FormCanvas methodsFor: 'drawing-text' stamp: 'ar 12/31/2001 16:59'!drawString: aString from: firstIndex to: lastIndex in: bounds font: fontOrNil color: c	| font |	port colorMap: nil.	port clipByX1: bounds left + origin x 		y1: bounds top + origin y 		x2: bounds right + origin x 		y2: bounds bottom + origin y.	font _ fontOrNil ifNil: [TextStyle defaultFont].	font installOn: port		foregroundColor: (self shadowColor ifNil:[c]) 		backgroundColor: Color transparent.	port combinationRule: Form paint.	font displayString: aString asString on: port 		from: firstIndex to: lastIndex at: (bounds topLeft + origin) kern: 0.	port clipRect: clipRect.! !