'From Squeak2.9alpha of 17 July 2000 [latest update: #3145] on 8 December 2000 at 9:57:57 am'!"Change Set:		SoundCompressionDate:			7 December 2000Author:			Dan IngallsA couple of handy methods that let you say, eg,	sound _ sound compressWith: GSMCodecwhere sound is any SampledSound or SequentialSOund made up of SampledSounds."!!CompressedSoundData methodsFor: 'as yet unclassified' stamp: 'RAA 12/8/2000 09:50'!compressWith: codecClass	codecName == codecClass name asSymbol ifTrue: [^self].	^self asSound compressWith: codecClass! !!ImageSegment methodsFor: 'read/write segment' stamp: 'RAA 12/8/2000 09:57'!savePlayerReferences: dictOfAllObjects	| save world |	"Save our associations in the shared References table.  They will be installed in the new system.""Since this code blows up, I have removed it until it can be fixed"1 = 1 ifTrue: [^self].	save _ OrderedCollection new.	References associationsDo: [:ass |		(dictOfAllObjects includesKey: ass) ifTrue: [save add: ass]].	1 to: 5 do: [:ii | ((arrayOfRoots at: ii) respondsTo: #isCurrentProject) ifTrue: [					world _ arrayOfRoots at: ii]].	world setProperty: #References toValue: save.		"assume it is not refed from outside and will be traced"! !!SampledSound methodsFor: 'accessing' stamp: 'di 12/7/2000 16:04'!compressWith: codecClass	^ codecClass new compressSound: self! !!SequentialSound methodsFor: 'copying' stamp: 'di 12/7/2000 15:46'!transformSounds: tfmBlock	"Private!! Support for copying. Copy my component sounds."	sounds _ sounds collect: [:s | tfmBlock value: s].! !!SequentialSound methodsFor: 'composition' stamp: 'di 12/7/2000 16:03'!compressWith: codecClass	^ self copy transformSounds: [:s | s compressWith: codecClass]! !!SoundEventMorph methodsFor: 'as yet unclassified' stamp: 'RAA 12/8/2000 09:52'!releaseCachedState	super releaseCachedState.	sound _ sound compressWith: GSMCodec.! !