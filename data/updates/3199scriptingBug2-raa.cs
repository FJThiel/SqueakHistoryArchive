'From Squeak2.9alpha of 17 July 2000 [latest update: #3262] on 13 January 2001 at 8:46 am'!"Change Set:		scriptingBug2Date:			13 January 2001Author:			Bob Arningwalkback prevention when the user tries to get a new script from a viewer for a player for which isFlagshipForClass is false."!!Viewer methodsFor: 'as yet unclassified' stamp: 'RAA 1/13/2001 08:18'!newPermanentScript	| aMorph |	self scriptedPlayer assureUniClass.	self scriptedPlayer isFlagshipForClass ifFalse: [		self flag: #deferred.  "This really has to change, esp in card world"		self primaryHand attachMorph: (StringMorph contents: 'YOU CANNOT MAKE A NEW SCRIPT IF YOU ARE NOT THE FLAGSHIP FOR THE CLASS').		^ self	].	aMorph _ ImageMorph new image: (ScriptingSystem formAtKey: 'newScript').	aMorph setProperty: #newPermanentScript toValue: true.	aMorph setProperty: #player toValue: self scriptedPlayer.	self primaryHand attachMorph: aMorph! !