'From Squeak 2.5 of August 6, 1999 [latest update: #1507] on 29 September1999 at 8:53 am'!!ImageSegment methodsFor: 'read/write segment'!rootsIncludingPlayers	"Return a new roots array with more objects.  (Caller should storeinto rootArray.) Player (non-systemDefined) gets its class and metaclassput into the Roots array.  Then ask for the segment again.	Temporarily: SystemWindows (MorphicModels) need to be roots becauseof dependents."| extras havePresenter players |extras _ OrderedCollection new.arrayOfRoots do: [:root |	(root isKindOf: Presenter) ifTrue: [havePresenter _ root].	(root isKindOf: PasteUpMorph) ifTrue: [			root isWorldMorph ifTrue: [				havePresenter _ root presenter.			"	root submorphs do: [:sub |					(sub isKindOf: MorphicModel) ifTrue: [						(arrayOfRoots includes:sub) ifFalse: [extras add: sub]]]."				]].	(root isKindOf: Project) ifTrue: [havePresenter _ root worldpresenter]].havePresenter ifNotNil: [havePresenter flushPlayerListCache.	players _ havePresenter allExtantPlayers.	players _ players select: [:ap | (arrayOfRoots includes: ap class) not		& (ap class isSystemDefined not)].	"extras addAll: players.	Why needed?"	extras addAll: (players collect: [:each | each class]).	extras addAll: (players collect: [:each | each class class]).	"outPointers do: [:out | out class == ScriptEditorMorph ifTrue: [			(havePresenter allExtantPlayers includes: outplayerScripted) ifTrue: [				extras add: out]].			out _ nil].	Why needed?"	].extras isEmpty ifTrue: [^ nil].	"no change"^ arrayOfRoots, extras! !