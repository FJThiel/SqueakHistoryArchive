'From Squeak 2.2 of Sept 23, 1998 on 16 November 1998 at 3:03:10 am'!"Change Set:		Balloon-1-PreparationsDate:			2 November 1998Author:			Andreas RaabSmall changes throughout the system for the following change sets."!!BitBlt methodsFor: 'private' stamp: 'ar 10/25/1998 17:30'!copyBitsFrom: x0 to: x1 at: y	destX _ x0.	destY _ y.	sourceX _ x0.	width _ (x1 - x0).	self copyBits.! !!CObjectAccessor methodsFor: 'private' stamp: 'ar 11/3/1998 22:37'!getObject	^object! !!Collection methodsFor: 'enumerating' stamp: 'ar 11/3/1998 14:11'!contains: aBlock	"Evaluate aBlock with the elements of the receiver.	If aBlock returns true for any element return true.	Otherwise return false"	self do:[:item|		(aBlock value: item) ifTrue:[^true].	].	^false! !!Color methodsFor: 'queries' stamp: 'ar 11/12/1998 19:43'!isBlack	"Return true if the receiver represents black"	^rgb = 0! !!Color methodsFor: 'queries' stamp: 'ar 11/12/1998 19:44'!isGray	"Return true if the receiver represents a shade of gray"	^(self privateRed = self privateGreen) and:[self privateRed = self privateBlue]! !!Dictionary methodsFor: 'accessing' stamp: 'ar 11/2/1998 12:22'!at: key ifAbsentPut: aBlock 	"Return the value at the given key.	If key is not included in the receiver store the result	of evaluating aBlock as new value."	^self at: key ifAbsent:[self at: key put: aBlock value]! !!Form methodsFor: 'private' stamp: 'ar 10/9/1998 23:47'!setExtent: extent depth: bitsPerPixel bits: bitmap	"Create a virtual bit map with the given extent and bitsPerPixel."	width _ extent x asInteger.	width < 0 ifTrue: [width _ 0].	height _ extent y asInteger.	height < 0 ifTrue: [height _ 0].	depth _ bitsPerPixel.	self bitsSize = bitmap size ifFalse:[^self error:'Bad dimensions'].	bits _ bitmap! !!Form class methodsFor: 'instance creation' stamp: 'ar 10/9/1998 23:44'!extent: extentPoint depth: bitsPerPixel bits: aBitmap	"Answer an instance of me with blank bitmap of the given dimensions and depth."	^ self basicNew setExtent: extentPoint depth: bitsPerPixel bits: aBitmap! !!ReadStream methodsFor: 'accessing' stamp: 'ar 11/2/1998 12:20'!size	"Compatibility with other streams (e.g., FileStream)"	^readLimit! !!SequenceableCollection methodsFor: 'accessing' stamp: 'ar 8/14/1998 21:20'!identityIndexOf: anElement 	"Answer the index of anElement within the receiver. If the receiver does 	not contain anElement, answer 0."	^self identityIndexOf: anElement ifAbsent: [0]! !!SequenceableCollection methodsFor: 'accessing' stamp: 'ar 8/14/1998 21:21'!identityIndexOf: anElement ifAbsent: exceptionBlock	"Answer the index of anElement within the receiver. If the receiver does 	not contain anElement, answer the result of evaluating the argument, 	exceptionBlock."	1 to: self size do:		[:i | (self at: i) == anElement ifTrue: [^ i]].	^ exceptionBlock value! !!Bitmap methodsFor: 'accessing' stamp: 'ar 11/2/1998 12:19'!defaultElement	"Return the default element of the receiver"	^0! !!FloatArray methodsFor: 'accessing' stamp: 'ar 11/2/1998 12:19'!defaultElement	"Return the default element of the receiver"	^0.0! !!FloatArray methodsFor: 'private' stamp: 'ar 11/7/1998 20:17'!basicFloatAt: index put: value	"Note: Relies on IEEE floats!!"	| word1 word2 sign mantissa exponent destWord |	value = 0.0 ifTrue:[^self basicAt: index put: 0].	word1 _ value basicAt: 1.	word2 _ value basicAt: 2.	mantissa _ (word2 bitShift: -29) + ((word1 bitAnd:  16rFFFFF) bitShift: 3).	exponent _ ((word1 bitShift: -20) bitAnd: 16r7FF) - 1023 + 127.	exponent < 0 ifTrue:[^self basicAt: index put: 0].	exponent > 254 ifTrue:[		exponent _ 255.		mantissa _ 0].	sign _ word1 bitAnd: 16r80000000.	destWord _ sign + (exponent bitShift: 23) + mantissa.	self basicAt: index put: destWord.	^value! !!IntegerArray methodsFor: 'accessing' stamp: 'ar 11/2/1998 12:19'!defaultElement	"Return the default element of the receiver"	^0! !!WordArray methodsFor: 'accessing' stamp: 'ar 11/2/1998 12:19'!defaultElement	"Return the default element of the receiver"	^0! !