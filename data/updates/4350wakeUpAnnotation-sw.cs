'From Squeak3.1alpha of 28 February 2001 [latest update: #4348] on 27 September 2001 at 4:02:35 pm'!"Change Set:		wakeUpAnnotation-swDate:			27 September 2001Author:			Scott WallaceRefresh annotation panes on window activation so that they will automatically reformat if the user has changed annotation preferences while the window was inactive."!!Object methodsFor: 'class membership' stamp: 'sw 9/27/2001 15:51'!inheritsFromAnyIn: aList	"Answer whether the receiver inherits from any class represented by any element in the list.  The elements of the list can be classes, class name symbols, or strings representing possible class names.  This allows speculative membership tests to be made even when some of the classes may not be known to the current image, and even when their names are not interned symbols."	| aClass |	aList do:		[:elem | Symbol hasInterned: elem asString ifTrue: 			[:elemSymbol | (((aClass _ Smalltalk at: elemSymbol ifAbsent: [nil]) isKindOf: Class)						and: [self isKindOf: aClass])				ifTrue:					[^ true]]].	^ false"{3.  true. 'olive'} do:	[:token |		 {{#Number. #Boolean}. {Number.  Boolean }.  {'Number'. 'Boolean'}} do:			[:list |				Transcript cr; show: token asString, ' list element provided as a ', list first class name, ' - ', (token inheritsFromAnyIn: list) asString]]"! !!CodeHolder methodsFor: 'misc' stamp: 'sw 9/27/2001 01:26'!modelWakeUpIn: aWindow	"The window has been activated.  Respond to possible changes that may have taken place while it was inactive"	self updateListsAndCodeIn: aWindow.	self decorateButtons.	self refreshAnnotation.	super modelWakeUpIn: aWindow! !!CodeHolder methodsFor: 'misc' stamp: 'sw 9/27/2001 02:01'!refreshAnnotation	"If the receiver has an annotation pane that does not bear unaccepted edits, refresh it"	(self dependents detect: [:m | (m inheritsFromAnyIn: #('PluggableTextView' 'PluggableTextMorph')) and: [m getTextSelector == #annotation]] ifNone: [nil]) ifNotNilDo:		[:aPane | aPane hasUnacceptedEdits ifFalse:			[self changed: #annotation]]! !