'From Squeak3.6 of ''6 October 2003'' [latest update: #5424] on 15 November 2003 at 1:29:57 am'!"Change Set:		FixDecompilerMissingVar-ajhDate:			15 November 2003Author:			Anthony HannanBlock temps were not showing up in decompiled encoders and thus not showing up in debugger context frame for do-it methods.  This fixes that."!!Decompiler methodsFor: 'private' stamp: 'ajh 11/15/2003 01:21'!decompile: aSelector in: aClass method: aMethod using: aConstructor	| block |	constructor _ aConstructor.	method _ aMethod.	self initSymbols: aClass.  "create symbol tables"	method isQuick		ifTrue: [block _ self quickMethod]		ifFalse: 			[stack _ OrderedCollection new: method frameSize.			statements _ OrderedCollection new: 20.			super method: method pc: method initialPC.			block _ self blockTo: method endPC + 1.			stack isEmpty ifFalse: [self error: 'stack not empty']].	^constructor		codeMethod: aSelector		block: block		tempVars: tempVars		primitive: method primitive		class: aClass! !!DecompilerConstructor methodsFor: 'constructor' stamp: 'ajh 11/15/2003 01:20'!codeMethod: selector block: block tempVars: vars primitive: primitive class: class	| node methodTemps |	node _ self codeSelector: selector code: nil.	tempVars _ vars.	methodTemps _ tempVars select: [:t | t scope >= 0].	^MethodNode new		selector: node		arguments: (methodTemps copyFrom: 1 to: nArgs)		precedence: selector precedence		temporaries: (methodTemps copyFrom: nArgs + 1 to: methodTemps size)		block: block		encoder: (Encoder new initScopeAndLiteralTables					temps: tempVars					literals: literalValues					class: class)		primitive: primitive! !