'From Squeak3.11alpha of 1 October 2009 [latest update: #7174] on 1 October 2009 at 9:53:38 am'!!ChangeSet methodsFor: 'fileIn/Out' stamp: 'edc 10/1/2009 09:53'!fileOut	"File out the receiver, to a file whose name is a function of the 	change-set name and either of the date & time or chosen to have a 	unique numeric tag, depending on the preference 	'changeSetVersionNumbers'"	| slips nameToUse internalStream |	self checkForConversionMethods.	ChangeSet promptForDefaultChangeSetDirectoryIfNecessary.	self name endsWithDigit ifTrue:[nameToUse := self name ,  FileDirectory dot , FileStream cs]	ifFalse:[	nameToUse := Preferences changeSetVersionNumbers				ifTrue: [self defaultChangeSetDirectory nextNameFor: self name extension: FileStream cs]				ifFalse: [self name , FileDirectory dot , Utilities dateTimeSuffix , FileDirectory dot , FileStream cs]].	nameToUse := nameToUse asJoliet.		nameToUse := self defaultChangeSetDirectory fullNameFor: nameToUse.	Cursor write		showWhile: [internalStream := WriteStream						on: (String new: 10000).			internalStream header; timeStamp.			self fileOutPreambleOn: internalStream.			self fileOutOn: internalStream.			self fileOutPostscriptOn: internalStream.			internalStream trailer.			FileStream				writeSourceCodeFrom: internalStream				baseName: (nameToUse copyFrom: 1 to: nameToUse size - 3)				isSt: false				useHtml: false].	Preferences checkForSlips		ifFalse: [^ self].	slips := self checkForSlips.	(slips size > 0			and: [(PopUpMenu withCaption: 'Methods in this fileOut have haltsor references to the Transcriptor other ''slips'' in them.Would you like to browse them?' chooseFrom: 'Ignore\Browse slips')					= 2])		ifTrue: [self systemNavigation browseMessageList: slips name: 'Possible slips in ' , name]! !