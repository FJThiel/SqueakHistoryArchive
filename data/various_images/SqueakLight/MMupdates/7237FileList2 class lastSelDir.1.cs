'From SqueakLight|II of 31 May 2008 [latest update: #7228] on 3 October 2009 at 8:36:46 am'!FileList subclass: #FileList2	instanceVariableNames: 'showDirsInFileList currentDirectorySelected fileSelectionBlock dirSelectionBlock optionalButtonSpecs modalView directoryChangeBlock ok'	classVariableNames: ''	poolDictionaries: ''	category: 'Morphic-FileList'!FileList2 class	instanceVariableNames: 'lastSelDir'!!FileList2 class methodsFor: 'modal dialogs' stamp: 'edc 10/3/2009 08:18'!modalFolderSelectorself lastSelDir  ifNil: [^self modalFolderSelector: FileDirectory default]ifNotNil:[^self modalFolderSelector: self lastSelDir ]	! !!FileList2 class methodsFor: 'modal dialogs' stamp: 'edc 10/3/2009 08:19'!modalFolderSelector: aDir	| window fileModel |	window _ self morphicViewFolderSelector: aDir.	fileModel _ window model.	window openInWorld: self currentWorld extent: 300@400.	self modalLoopOn: window.	^self lastSelDir: fileModel getSelectedDirectory withoutListWrapper! !!FileList2 class methodsFor: 'accessing' stamp: 'edc 10/3/2009 08:14'!lastSelDir^ lastSelDir! !!FileList2 class methodsFor: 'accessing' stamp: 'edc 10/3/2009 08:14'!lastSelDir: aDir^ lastSelDir := aDir! !!FileList2 reorganize!('as yet unclassified' specsForImageViewer)('drag''n''drop' dropDestinationDirectory:event: isDirectoryList:)('initialization' dirSelectionBlock: directory: directoryChangeBlock: fileSelectionBlock: initialDirectoryList labelString limitedSuperSwikiDirectoryList limitedSuperSwikiPublishDirectoryList optionalButtonSpecs optionalButtonSpecs: publishingServers universalButtonServices updateDirectory)('initialize-release' initialize)('own services' addNewDirectory deleteDirectory importImage okayAndCancelServices openImageInWindow openProjectFromFile removeLinefeeds serviceCancel serviceOkay serviceOpenProjectFromFile servicesForFolderSelector servicesForProjectLoader)('user interface' blueButtonForService:textColor:inWindow: morphicDirectoryTreePane morphicDirectoryTreePaneFiltered: morphicFileContentsPane morphicFileListPane morphicPatternPane)('volume list and pattern' changeDirectoryTo: directory listForPattern: listForPatterns:)('private' cancelHit currentDirectorySelected directoryNamesFor: getSelectedDirectory getSelectedFile modalView: okHit okHitForProjectLoader postOpen saveLocalOnlyHit setSelectedDirectoryTo:)!