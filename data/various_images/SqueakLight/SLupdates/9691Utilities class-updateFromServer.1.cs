'From Squeak3.11alpha of 13 February 2010 [latest update: #9390] on 21 September 2010 at 8:42:33 am'!!Utilities class methodsFor: 'fetching updates' stamp: 'edc 9/20/2010 07:55'!updateFromServer	"Update the image by loading all pending updates from the server."	| config answer |	"Flush all caches. If a previous download failed this is often helpful"	MCFileBasedRepository flushAllCaches.	config := MCMcmUpdater updateFromDefaultRepository.	config ifNil: [^self inform: 'Unable to retrieve updates from remote repository.' translated].	self setSystemVersionFromConfig: config.	self inform: ('Update completed.Current update number: ' translated, SystemVersion current highestUpdate).answer := self confirm: 'You wish cleanup the image ?'.answer ifTrue:[self updateFromServerCleanup]! !!Utilities class methodsFor: 'fetching updates' stamp: 'edc 9/20/2010 07:47'!updateFromServerCleanup	MCFileBasedRepository flushAllCaches.MCDefinition clearInstances.3 timesRepeat: [ Smalltalk garbageCollect].Smalltalk condenseChanges! !