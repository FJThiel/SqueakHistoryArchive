'From SqueakLight|II of 31 May 2008 [latest update: #7220] on 22 May 2009 at 8:47:08 am'!!Utilities class methodsFor: 'fetching updates' stamp: 'edc 5/12/2009 09:33'!slUpdates	"Utilities slUpdates"	| previousHighest server dir count sourceFile fileName pos |	previousHighest := SystemVersion current highestUpdate.	server := ServerDirectory serverNamed: 'SL'.	dir := server directoryNamed: 'SLupdates'.	count := 0.	dir entries		select: [:c | c name startsWithDigit & (c name initialIntegerOrNil > previousHighest)]		thenCollect: [:any | 			(any name endsWith: '.sqz')				ifTrue: [fileName := any name.					pos := fileName findString: '.sqz'.					fileName := fileName copyFrom: 1 to: pos - 1.					sourceFile := HTTPLoader default retrieveContentsFor: 'ftp.squeak.org/various_images/SqueakLight//SLupdates/' , any name.					sourceFile := RWBinaryOrTextStream with: sourceFile content unzipped]				ifFalse: [sourceFile := RWBinaryOrTextStream with: (dir getFileNamed: any name) contents.					sourceFile reset.					self saveUpdate: sourceFile onFile: any name].			ChangeSorter newChangesFromStream: sourceFile named: any name.			count := count + 1].	PopUpMenu inform: count asString , ' new update file(s) processed.'.	SystemVersion current registerUpdate: ChangeSorter highestNumberedChangeSet! !