'From Squeak3.10beta of 22 July 2007 [latest update: #7159] on 16 July 2009 at 5:24:46 pm'!!Flaps class methodsFor: 'flap mechanics' stamp: 'edc 7/25/2008 08:47'!reinstateDefaultFlaps	"Remove all existing 'standard' global flaps clear the global list, and and add fresh ones.  To be called by doits in updates etc.  This is a radical step, but it does *not* clobber non-standard global flaps or local flaps.  To get the effect of the *former* version of this method, call Flaps freshFlapsStart"	"Flaps reinstateDefaultFlaps"	self globalFlapTabsIfAny do:		[:aFlapTab |			({								'Squeak' translated.				'Menu' translated.				'Widgets' translated.				'Tools' translated.				'Supplies' translated.								'Objects' translated.				'Navigator' translated			  } includes: aFlapTab flapID) ifTrue:				[self removeFlapTab: aFlapTab keepInList: false]].	"The following reduces the risk that flaps will be created with variant IDs		such as 'Stack Tools2', potentially causing some shared flap logic to fail."		"Smalltalk garbageCollect."  "-- see if we are OK without this"	self addStandardFlaps.	"self disableGlobalFlapWithID: 'Scripting'.	self disableGlobalFlapWithID: 'Objects'."	self currentWorld addGlobalFlaps.	self currentWorld reformulateUpdatingMenus.! !!Flaps class methodsFor: 'predefined flaps' stamp: 'edc 6/19/2008 07:14'!newSuppliesFlapFromQuads: quads positioning: positionSymbol	"Answer a fully-instantiated flap named 'Supplies' to be placed at the bottom of the screen.  Use #center as the positionSymbol to have it centered at the bottom of the screen, or #right to have it placed off near the right edge."	|  aFlapTab aStrip hPosition |	aStrip _ PartsBin newPartsBinWithOrientation: #leftToRight andColor: Color red muchLighter from:	 quads.	"self twiddleSuppliesButtonsIn: aStrip."	aFlapTab _ FlapTab new referent: aStrip beSticky.	aFlapTab setName: 'Supplies' translated edge: #bottom color: Color red lighter.	hPosition _ positionSymbol == #center		ifTrue:			[(Display width // 2) - (aFlapTab width // 2)]		ifFalse:			[Display width - (aFlapTab width + 22)].	aFlapTab position: (hPosition @ (self currentWorld height - aFlapTab height)).	aFlapTab setBalloonText: aFlapTab balloonTextForFlapsMenu.	aStrip extent: self currentWorld width @ 136.	aStrip beFlap: true.	aStrip autoLineLayout: true.		^ aFlapTab"Flaps replaceGlobalFlapwithID: 'Supplies' translated"! !