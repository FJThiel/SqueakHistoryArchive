
==================================================================
pub/Smalltalk/Squeak/patches/Behavior-new.st
==================================================================

'From Squeak 1.13 of October 17, 1996 on 6 December 1996 at 6:48:47 pm'!

!Behavior methodsFor: 'instance creation'!
basicNew
	''Answer a new instance of the receiver (which is a class) with no indexable variables. Fail if the class is indexable."
	''Essential Primitive. See Object documentation whatIsAPrimitive.
	NOTE:  This method should not be overridden in any subclasses.''

	<primitive: 70>
	self isVariable ifTrue: [ ^ self basicNew: 0 ].
	''space must be low"
	Smalltalk signalLowSpace.
	^self basicNew  ''retry if user proceeds"
!
basicNew: anInteger 
	''Answer a new instance of the receiver (which is a class) with the number of indexable variables specified by the argument, anInteger. Fail if the class is not indexable or if the argument is not a positive Integer."
	''Essential Primitive. See Object documentation whatIsAPrimitive.
	NOTE:  This method should not be overridden in any subclasses.''

	<primitive: 71>
	(anInteger isInteger and: [anInteger >= 0]) ifTrue: [
		''arg okay; space must be low"
		Smalltalk signalLowSpace.
		^ self basicNew: anInteger  ''retry if user proceeds"
	].
	self primitiveFailed!
new
	''Answer a new instance of the receiver (which is a class) with no indexable variables. Fail if the class is indexable."
	''Essential Primitive. See Object documentation whatIsAPrimitive."

	<primitive: 70>
	self isVariable ifTrue: [^self basicNew: 0].
	''space must be low"
	Smalltalk signalLowSpace.
	^self basicNew  ''retry if user proceeds"
!
new: anInteger 
	''Answer a new instance of the receiver (which is a class) with the number of indexable variables specified by the argument, anInteger. Fail if the class is not indexable or if the argument is not a positive Integer."
	''Essential Primitive. See Object documentation whatIsAPrimitive."

	<primitive: 71>
	(anInteger isInteger and: [anInteger >= 0]) ifTrue: [
		''arg okay; space must be low"
		Smalltalk signalLowSpace.
		''retry if user proceeds"
		^self basicNew: anInteger].
	self primitiveFailed! !


==================================================================
pub/Smalltalk/Squeak/patches/FileDirectory-includesKey.st
==================================================================

'From Squeak 1.13 of October 17, 1996 on 6 December 1996 at 8:57:21 pm'!

!FileDirectory methodsFor: 'dictionary access'!
includesKey:aString
	''Answer whether the receiver includes an element of the given name."
	''Note: aString may designate a file local to this directory, or it may be a full path name."

	^ (StandardFileStream isAFileNamed:(self fullNameFor: aString)! !

==================================================================
pub/Smalltalk/Squeak/patches/PluggableListView-list.st
==================================================================

'From Squeak 1.13 of October 17, 1996 on 26 November 1996 at 6:11:05 pm'!!PluggableListView methodsFor: 'initialization'!list: arrayOfStrings	''Set the receivers items to be the given list of strings."	"Note: the instance variable 'itemsList' holds the original list.	 The instance variable 'items' is a paragraph constructed from	 this list."	| s |	items _ arrayOfStrings.	isEmpty _ arrayOfStrings isEmpty.	s _ WriteStream on: Array new.	"add top and bottom delimiters"	s nextPut: topDelimiter.	arrayOfStrings do: 		[:item |		item == nil ifFalse: [s nextPut: item]].	s nextPut: bottomDelimiter.	list _ ListParagraph		withArray: s contents	"	lineSpacing: lineSpacing".	selection _ self getCurrentSelectionIndex.	self positionList.! !
==================================================================
pub/Smalltalk/Squeak/patches/colorCleanup.st
==================================================================

'Correction of color examples. Also changed them to be class methods. Some obsolete private instance methods are removed.' !

!Color class methodsFor: 'examples'!
showPalette
	''Show the 12x12x12 palette used in fromUser."
	''Color showPalette"

	 | rect |
	''RGB display gives 12x12x12 cube to choose from"

	rect _ 0@0 extent: 5@5.	''modified in loop below"
	0 to: 11 do: [:r |
		0 to: 11 do: [:g |
			0 to: 11 do: [:b |
				rect moveTo: (r*60) + (b*5) @ (g*5).
				Display fill: rect fillColor: (Color red: r green: g blue: b range: 11).
	]]]! !
!Color class methodsFor: 'examples'!
showHuesInteractively
	''Shows a palette of hues at (saturation, brightness) point determined by the mouse position. Click mouse button to exit and return the selected saturation and brightness."
	''Color showHuesInteractively"

	| baseP p |
	baseP _ Sensor cursorPoint.
	[Sensor anyButtonPressed] whileFalse: [
		p _ (Sensor cursorPoint - baseP + 80) / 100.0.
		self showHuesAtSaturation: p x brightness: p y.
	].
	^ (p x min: 1.0) @ (p y min: 1.0)! !
!Color class methodsFor: 'examples'!
hsvExample
	''Shows a palette of hues, varying the saturation and brightness for each one."
	''Color hsvExample."

	| d rect |
	d _ Display depth.
	rect _ 0@0 extent: 5@5.	''modified in loop below"
	0 to: 179 by: 15 do: [:h |
		0 to: 10 do: [:s |
			0 to: 10 do: [:v |
				rect moveTo: (h*4) + (s*5) @ (v*5).
				Display fill: rect fillColor:
					(Color hue: h saturation: s / 10 brightness: v / 10)

				rect moveBy: 0 @ 80.
				Display fill: rect fillColor:
					(Color hue: h + 180 saturation: s / 10 brightness: v / 10)
	]]]! !
!Color class methodsFor: 'examples'!
showHuesAtSaturation: s brightness: v
	''Shows a palette of hues at the given (saturation, brightness) point."
	''Color showHuesAtSaturation: 0.9 brightness: 0.9"

	| rect |
	rect _ 0@0 extent: 35@35. ''modified in loop below"
	0 to: 179 by: 10 do: [:h |
		rect moveTo: (h*4) + 5 @ 5.
		Display fill: rect fillColor: (Color hue: h saturation: s brightness: v).
		rect moveTo: (h*4) + 5 @ 45.
		Display fill: rect fillColor: (Color hue: h + 180 saturation: s brightness: v).
	].
! !

Color removeSelector: #hsvExample!
Color removeSelector: #showHuesInteractively!
Color removeSelector: #showPalette!
Color removeSelector: #showHuesAtSaturation:brightness:!

Color removeSelector: #closestColor1!
Color removeSelector: #closestColor2!
Color removeSelector: #closestColor4!

==================================================================
pub/Smalltalk/Squeak/patches/VitalFixFor1.17.st
==================================================================

''VitalFixFor1.17.st
Fixes an inconsistency between compiler sizing and code generation.

        AUTHOR          Dan Ingalls (DanI@WDI.Disney.com)
        VERSION          1.17
        PREREQUISITES   none
        DISTRIBUTION    world
        VERSION ID       1
        VERSION DATE    November 19, 1996''!

==================================================================
pub/Smalltalk/Squeak/patches/DosFileDirectory.st
==================================================================

'From Squeak 1.1 of September 21, 1996 on 27 October 1996 at 5:00:03 pm'!FileDirectory subclass: #DosFileDirectory	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'System-Files'!!DosFileDirectory methodsFor: 'name service'!topDirectoryName	''Answer the file list's name for the top (root) directory.	10/25/96 ar"	^'Drives'!topDirectoryPath	"Answer the path to the top (root) directory.	Return an empty string - this is recognized	by the VM to be the list of all available drives.	10/25/96 ar"	^''! !!DosFileDirectory methodsFor: 'file creation'!fileClass	^ StandardFileStream! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!DosFileDirectory class!!DosFileDirectory class methodsFor: 'initialization'!pathNameDelimiter	^ $\!setMacFileNamed: fileName type: typeString creator: creatorString	"Mac specific; noop on other platforms."! !